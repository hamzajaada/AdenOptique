"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{5977:function(e,t,i){i.d(t,{v:function(){return R}});var r,n,a=i(85893),s=i(75567),c=i(55133),l=i(63752),o=i(73739),d=i(67294);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var p=function(e){return d.createElement("svg",u({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.5h20A1.5 1.5 0 0 1 27.5 4v24a1.5 1.5 0 0 1-1.5 1.5H6A1.5 1.5 0 0 1 4.5 28V4A1.5 1.5 0 0 1 6 2.5ZM3 4a3 3 0 0 1 3-3h20a3 3 0 0 1 3 3v24a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V4Zm10.5 1.65c-.69 0-1.25.56-1.25 1.25v7.503c0 .69.56 1.25 1.25 1.25H19a.75.75 0 0 0 0-1.5h-5.25V11.4H17a.75.75 0 1 0 0-1.5h-3.25V7.15H19a.75.75 0 0 0 0-1.5h-5.5Zm-7.75 15a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5h-8a.75.75 0 0 1-.75-.75Zm.75 4.25a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5h-4Zm6.75.75a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Zm8.25-.75a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5h-4Zm-4.75-4.25a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5h-8a.75.75 0 0 1-.75-.75Z",fill:"#676F78"})))};function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var h=function(e){return d.createElement("svg",m({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.888 6.75a2.25 2.25 0 0 0-2.029 1.276l-4.495 9.366a.25.25 0 0 0 .225.358h.465C3.451 14.874 5.962 14 9 14c2.566 0 4.755.623 5.613 2.55a3.26 3.26 0 0 1 1.387-.3c.55 0 1.012.125 1.387.3C18.245 14.622 20.434 14 23 14c3.038 0 5.549.874 5.945 3.75h.466a.25.25 0 0 0 .225-.358l-4.768-9.933a1.25 1.25 0 0 0-1.127-.709H22a.75.75 0 0 1 0-1.5h1.741a2.75 2.75 0 0 1 2.48 1.56l4.767 9.933a1.75 1.75 0 0 1-1.577 2.507h-.443C28.656 22.48 26.103 25 23 25c-3.314 0-6-2.873-6-6.417 0-.179.007-.352.02-.518A1.711 1.711 0 0 0 16 17.75c-.466 0-.798.155-1.02.314.013.167.02.34.02.52C15 22.126 12.313 25 9 25c-3.103 0-5.656-2.52-5.968-5.75h-.443a1.75 1.75 0 0 1-1.578-2.507l4.496-9.366a3.75 3.75 0 0 1 3.38-2.127H10a.75.75 0 1 1 0 1.5H8.888ZM9 23.5c2.392 0 4.5-2.105 4.5-4.917 0-.367-.036-.683-.1-.954l-.038-.024.002-.002.001-.003.005-.007.012-.02.003-.003c-.174-.672-.53-1.071-.958-1.348-.725-.47-1.877-.722-3.427-.722s-2.702.252-3.428.722c-.608.394-1.072 1.035-1.072 2.361C4.5 21.395 6.608 23.5 9 23.5Zm9.6-5.871.037-.024v-.002l-.003-.003-.004-.007-.013-.02-.002-.003c.174-.672.53-1.071.957-1.348.726-.47 1.878-.722 3.428-.722s2.702.252 3.427.722c.609.394 1.073 1.035 1.073 2.361 0 2.812-2.108 4.917-4.5 4.917s-4.5-2.105-4.5-4.917c0-.367.035-.683.1-.954Z",fill:"#676F78"})))},g=i(44194),x=i(77050),f=i(17828),y=i(4257),v=i(83672),j=i(61669);let k=(0,s.zo)(c.E,{gap:"$4","@tablet":{gap:"$6"}}),b=(0,s.zo)("div",{padding:"$6 $4",background:"$grayscaleSilk",borderRadius:"$space$3",height:"min-content",variants:{compact:{true:{padding:"$2 $4"}}}}),w=(0,s.zo)("div",{display:"flex",alignItems:"center",mixBlendMode:"multiply"}),$=(0,s.zo)("img",{objectFit:"contain",minWidth:"112px",width:"112px",variants:{hasBackground:{true:{minWidth:"80px",width:"80px"}}}}),C=e=>{let{src:t,alt:i,hasBackground:r,compact:n}=e;return t?r?(0,a.jsx)(b,{compact:!!n,children:(0,a.jsx)(w,{children:(0,a.jsx)($,{src:t,alt:i,hasBackground:!0})})}):(0,a.jsx)($,{src:t,alt:i}):null},L=(0,s.zo)(c.E,{width:"112px",minWidth:"112px",minHeight:"76px",border:"1px solid $colors$grayscaleSilver",borderRadius:"$space$3"}),S=e=>{let{imgSrc:t,icon:i,title:r,description:n,trackingLink:s,hasBackground:c=!1,compact:l=!1,id:o,type:d}=e;return(0,a.jsxs)(k,{alignItems:"center","data-product-id":o,"data-product-type":d,children:[i&&!t?(0,a.jsx)(L,{alignItems:"center",justifyContent:"center",children:i}):(0,a.jsx)(C,{src:t,alt:r,hasBackground:c,compact:l}),(0,a.jsxs)(y.hx,{space:"1",children:[(0,a.jsx)(y.n2,{children:r}),n?(0,a.jsx)(y.Bw,{children:n}):null,s]})]})},R=e=>{let{item:t,showTrackingLink:i,isReturned:r,itemDescription:n}=e,s=(0,j.V)(),{trackClick:c}=(0,g.r)({category:s}),d=i&&t.narvarTrackingURL?(0,a.jsx)(l.h,{variant:"md",href:t.narvarTrackingURL,endIcon:(0,a.jsx)(o.Z,{}),onClick:()=>c(x.YX.TrackOrder),children:r?"Track my return":"Track my order"}):null;switch(t.type){case"accessory":return(0,a.jsx)(S,{imgSrc:t.accessory.images.front,title:t.accessory.title,description:t.accessory.color,trackingLink:d,hasBackground:!0,compact:!0,id:t.id,type:t.type});case"trial":case"contacts":{let e=t.contact.productLineSpecific+(0,v.q)(t).eyesText,i=(0,v.q)(t).quantityText;return(0,a.jsx)(S,{imgSrc:t.contact.images.front,title:e,description:i,trackingLink:d,id:t.contact.id,type:t.type})}case"frame":{let e="".concat(t.frame.name," in ").concat(t.frame.color);return(0,a.jsx)(S,{imgSrc:t.frame.images.front,title:e,description:null!=n?n:(0,f.k)(t.frame.width),trackingLink:d,hasBackground:!0,id:t.id,type:t.type})}case"hto":return(0,a.jsx)(S,{imgSrc:t.defaultImageUrl,title:"Home Try-On",description:"5 day free trial",trackingLink:d,hasBackground:!0,id:t.items[0].id,type:t.type});case"physicalGiftCard":return(0,a.jsx)(S,{imgSrc:t.physicalGiftCard.images.front,title:t.physicalGiftCard.name||"Physical gift card",description:t.physicalGiftCard.description,trackingLink:d,id:t.id,type:t.type});case"eGiftCard":return(0,a.jsx)(S,{imgSrc:t.eGiftCard.images.front,title:t.eGiftCard.name||"Electronic gift card",description:t.eGiftCard.description,trackingLink:d,id:t.id,type:t.type});case"eyeExam":return(0,a.jsx)(S,{imgSrc:t.eyeExam.images.default,icon:(0,a.jsx)(p,{}),title:t.eyeExam.name||"Eye exam",description:t.eyeExam.description,trackingLink:d,id:t.id,type:t.type});case"virtualVisionTest":return(0,a.jsx)(S,{imgSrc:t.eyeExam.images.default,icon:(0,a.jsx)(p,{}),title:t.eyeExam.name||"Virtual vision test",description:t.eyeExam.description,trackingLink:d,id:t.id,type:t.type});case"lensReplacement":{var u,m;let e="".concat(null===(u=t.frame)||void 0===u?void 0:u.name," in ").concat(null===(m=t.frame)||void 0===m?void 0:m.color);if(t.frame)return(0,a.jsx)(S,{imgSrc:t.frame.images.front||t.lensReplacement.images.default,title:"Lens replacement",description:e,trackingLink:d,hasBackground:!!t.frame.images.front,id:t.id,type:t.type});return(0,a.jsx)(S,{imgSrc:t.lensReplacement.images.default,icon:(0,a.jsx)(h,{}),title:t.lensReplacement.name||"Lens replacement",description:t.lensReplacement.description,trackingLink:d,id:t.id,type:t.type})}default:return null}}},4257:function(e,t,i){i.d(t,{Bw:function(){return u},hx:function(){return d},iz:function(){return o},n2:function(){return p}});var r=i(85893),n=i(75567),a=i(48672),s=i(15803),c=i(80702);let l=(0,n.zo)(s.x,{color:"$grayscaleStone"}),o=(0,n.zo)("hr",{borderTop:"1px solid $colors$grayscaleSilver",borderBottom:"none",margin:"$4 0",width:"100%","@tablet":{margin:"$6 0"}}),d=(0,n.zo)(c.K,{justifyContent:"center","@mobileOnly":{"&:empty":{display:"none"}}}),u=e=>{let{children:t}=e;return(0,r.jsx)(l,{tag:"p",size:{"@initial":300,"@tablet":400},css:{"@tablet":{lineHeight:"26px"}},children:t})},p=e=>{let{children:t}=e;return(0,r.jsx)(a.r,{size:{"@initial":200,"@tablet":300},children:t})}},10167:function(e,t,i){i.d(t,{F:function(){return z}});var r=i(85893),n=i(67294),a=i(92280),s=i(30120),c=i(75567),l=i(95341),o=i(61013),d=i(63752),u=i(24556),p=i(44194),m=i(77050),h=i(83993),g=i(5977),x=i(4257),f=i(22887),y=i(60652),v=i(45037),j=i(61669);let k=(0,c.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",gap:"$4","@mobileOnly":{flexDirection:"column",alignItems:"start"}}),b=e=>{let{orderStatus:t,trackingNumber:i,trackingURL:n,reorder:a}=e,s=(0,j.V)(),{trackClick:c}=(0,p.r)({category:s}),l=()=>{c(m.YX.TrackOrder)},o=t.messaging||i||(null==a?void 0:a.showReorderButton)||n;return o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.iz,{}),(0,r.jsxs)(k,{children:[(0,r.jsxs)(x.hx,{space:"1",children:[t.messaging&&(0,r.jsx)(x.Bw,{children:t.messaging}),i?(0,r.jsxs)(x.Bw,{children:["Tracking #",i]}):null]}),(null==a?void 0:a.showReorderButton)?(0,r.jsx)(v.z,{size:"large",color:"clear",isLoading:a.isLoading,disabled:a.isLoading,onClick:()=>a.reorder("Reorder"),css:{minWidth:"160px","@mobileOnly":{width:"100%"}},children:"Reorder"}):null,n?(0,r.jsx)(y.Z,{href:n||"",size:"large",onClick:l,css:{minWidth:"160px","@mobileOnly":{width:"100%"}},children:"Returned"===t.status?"Track my return":"Track my order"}):null]})]}):null};var w=i(83672),$=i(91855);let C=(0,c.zo)(l.Zb,{display:"flex",flexDirection:"column",alignItems:"start",height:"auto",padding:"$4","@tablet":{padding:"$6"},variants:{marginTop:{true:{marginTop:"$3"}},error:{true:{borderColor:"$supportRed"}}}}),L=(0,c.zo)("div",{marginBottom:"$4",width:"100%"}),S=(0,c.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"baseline",width:"100%",gap:"$4",marginBottom:"$4","@tablet":{gap:"$6",marginBottom:"$6"}}),R=(0,c.zo)("div",{display:"flex",flexDirection:"column",gap:"$3"}),z=e=>{var t,i,c,l,y,v;let{order:k,cardTitle:z}=e,E=(0,j.V)(),{trackClick:O,trackView:T}=(0,p.r)({category:E}),{showReorderButton:B,isLoading:Z,reorder:H}=(0,$.z)({items:null!==(v=k.items)&&void 0!==v?v:[]});(0,n.useEffect)(()=>{E===m.$0.AccountHome&&T(m.YX.RecentOrder)},[E,T]);let I=k.isMultiShipments?void 0:null===(t=k.tracking)||void 0===t?void 0:t.trackingNumber,G=k.isMultiShipments?void 0:null===(i=k.tracking)||void 0===i?void 0:i.narvarTrackingURL,V=s.ou.fromISO(k.placedAt).toLocaleString(s.ou.DATE_FULL,{locale:"en-US"}),A=!!k.issue||!!z;return(0,r.jsxs)("div",{"data-testid":"order-card-wrapper",children:[A?(0,r.jsx)(u.J3,{variant:"xl",children:k.issue?"We need your help to complete this order":z}):null,(0,r.jsxs)(C,{marginTop:A,error:!!k.issue||k.status.colorScheme===a.Gj.Orange,children:[k.status.banner?(0,r.jsx)(L,{children:(0,r.jsx)(h.j,{type:"info",textSize:"md",fullWidth:!0,children:k.status.banner})}):null,k.issue?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Y,{orderId:k.id,issue:k.issue,prescriptionId:null===(c=k.prescription)||void 0===c?void 0:null===(l=c.prescription)||void 0===l?void 0:l.id}),(0,r.jsx)(x.iz,{})]}):null,(0,r.jsxs)(S,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(d.h,{href:"/my-account/orders/".concat(k.id),variant:"lg",onClick:()=>O(m.YX.Order),children:["Order no. ",k.id]}),(0,r.jsxs)(x.Bw,{children:[V," | ",k.total]})]}),(0,r.jsx)(o.N,{color:k.status.colorScheme,children:k.status.tag})]}),(0,r.jsx)(R,{children:null===(y=k.items)||void 0===y?void 0:y.map(e=>(0,r.jsx)(g.v,{item:e,showTrackingLink:"Complete"!==k.status.status&&k.isMultiShipments,isReturned:"Returned"===k.status.status},(0,w.l)(e)))}),(0,r.jsx)(b,{orderStatus:k.status,trackingNumber:I,trackingURL:G,reorder:{showReorderButton:B,isLoading:Z,reorder:H}})]})]})}},17828:function(e,t,i){i.d(t,{e:function(){return n},k:function(){return r}});let r=e=>{let t=e.replace(/-/g," ");return t.charAt(0).toUpperCase()+t.slice(1)},n=e=>{var t,i,n,a;let{frame:s,priceDetails:c}=e;if(!c)return;let l={};c.forEach(e=>{l[e.group]=e.title});let o=null!==(t=l["Prescription type"])&&void 0!==t?t:"Non-prescription",d=null!==(i=l["Lens type"])&&void 0!==i?i:"Classic",u=null!==(n=l["Single vision options"])&&void 0!==n?n:"",p=null!==(a=l["Lens material"])&&void 0!==a?a:"Polycarbonate",m=r(s.width);return"".concat(m,", ").concat(o,", ").concat(d).concat(u&&", ".concat(u),", ").concat(p," lenses")}}}]);