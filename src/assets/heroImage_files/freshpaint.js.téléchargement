
// Portions of this code are licensed under the Apache License Version 2.0. A
// copy of the License can be obtained at:
// https://www.apache.org/licenses/LICENSE-2.0
(function() {
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(n){return n.raw=n};$jscomp.createTemplateTagFirstArgWithRaw=function(n,u){n.raw=u;return n};$jscomp.arrayIteratorImpl=function(n){var u=0;return function(){return u<n.length?{done:!1,value:n[u++]}:{done:!0}}};$jscomp.arrayIterator=function(n){return{next:$jscomp.arrayIteratorImpl(n)}};$jscomp.makeIterator=function(n){var u="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return u?u.call(n):$jscomp.arrayIterator(n)};
$jscomp.arrayFromIterator=function(n){for(var u,E=[];!(u=n.next()).done;)E.push(u.value);return E};$jscomp.arrayFromIterable=function(n){return n instanceof Array?n:$jscomp.arrayFromIterator($jscomp.makeIterator(n))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,u,E){if(n==Array.prototype||n==Object.prototype)return n;n[u]=E.value;return n};$jscomp.getGlobal=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var u=0;u<n.length;++u){var E=n[u];if(E&&E.Math==Math)return E}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(n,u){var E=$jscomp.propertyToPolyfillSymbol[u];if(null==E)return n[u];E=n[E];return void 0!==E?E:n[u]};
$jscomp.polyfill=function(n,u,E,I){u&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(n,u,E,I):$jscomp.polyfillUnisolated(n,u,E,I))};$jscomp.polyfillUnisolated=function(n,u,E,I){E=$jscomp.global;n=n.split(".");for(I=0;I<n.length-1;I++){var T=n[I];if(!(T in E))return;E=E[T]}n=n[n.length-1];I=E[n];u=u(I);u!=I&&null!=u&&$jscomp.defineProperty(E,n,{configurable:!0,writable:!0,value:u})};
$jscomp.polyfillIsolated=function(n,u,E,I){var T=n.split(".");n=1===T.length;I=T[0];I=!n&&I in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var aa=0;aa<T.length-1;aa++){var qa=T[aa];if(!(qa in I))return;I=I[qa]}T=T[T.length-1];E=$jscomp.IS_SYMBOL_NATIVE&&"es6"===E?I[T]:null;u=u(E);null!=u&&(n?$jscomp.defineProperty($jscomp.polyfills,T,{configurable:!0,writable:!0,value:u}):u!==E&&(void 0===$jscomp.propertyToPolyfillSymbol[T]&&($jscomp.propertyToPolyfillSymbol[T]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(T):$jscomp.POLYFILL_PREFIX+T),$jscomp.defineProperty(I,$jscomp.propertyToPolyfillSymbol[T],{configurable:!0,writable:!0,value:u})))};$jscomp.underscoreProtoCanBeSet=function(){var n={a:!0},u={};try{return u.__proto__=n,u.a}catch(E){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(n,u){n.__proto__=u;if(n.__proto__!==u)throw new TypeError(n+" is not extensible");return n}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(n){if(!(n instanceof Object))throw new TypeError("Iterator result "+n+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(n){this.yieldResult=n};$jscomp.generator.Context.prototype.throw_=function(n){this.abruptCompletion_={exception:n,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(n){this.abruptCompletion_={return:n};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(n){this.abruptCompletion_={jumpTo:n};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(n,u){this.nextAddress=u;return{value:n}};$jscomp.generator.Context.prototype.yieldAll=function(n,u){n=$jscomp.makeIterator(n);var E=n.next();$jscomp.generator.ensureIteratorResultIsObject_(E);if(E.done)this.yieldResult=E.value,this.nextAddress=u;else return this.yieldAllIterator_=n,this.yield(E.value,u)};
$jscomp.generator.Context.prototype.jumpTo=function(n){this.nextAddress=n};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(n,u){this.catchAddress_=n;void 0!=u&&(this.finallyAddress_=u)};$jscomp.generator.Context.prototype.setFinallyBlock=function(n){this.catchAddress_=0;this.finallyAddress_=n||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(n,u){this.nextAddress=n;this.catchAddress_=u||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(n){this.catchAddress_=n||0;n=this.abruptCompletion_.exception;this.abruptCompletion_=null;return n};$jscomp.generator.Context.prototype.enterFinallyBlock=function(n,u,E){E?this.finallyContexts_[E]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=n||0;this.finallyAddress_=u||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(n,u){u=this.finallyContexts_.splice(u||0)[0];if(u=this.abruptCompletion_=this.abruptCompletion_||u){if(u.isException)return this.jumpToErrorHandler_();void 0!=u.jumpTo&&this.finallyAddress_<u.jumpTo?(this.nextAddress=u.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=n};$jscomp.generator.Context.prototype.forIn=function(n){return new $jscomp.generator.Context.PropertyIterator(n)};
$jscomp.generator.Context.PropertyIterator=function(n){this.object_=n;this.properties_=[];for(var u in n)this.properties_.push(u);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var n=this.properties_.pop();if(n in this.object_)return n}return null};$jscomp.generator.Engine_=function(n){this.context_=new $jscomp.generator.Context;this.program_=n};
$jscomp.generator.Engine_.prototype.next_=function(n){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,n,this.context_.next_);this.context_.next_(n);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(n){this.context_.start_();var u=this.context_.yieldAllIterator_;if(u)return this.yieldAllStep_("return"in u?u["return"]:function(E){return{value:E,done:!0}},n,this.context_.return);this.context_.return(n);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(n){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],n,this.context_.next_);this.context_.throw_(n);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(n,u,E){try{var I=n.call(this.context_.yieldAllIterator_,u);$jscomp.generator.ensureIteratorResultIsObject_(I);if(!I.done)return this.context_.stop_(),I;var T=I.value}catch(aa){return this.context_.yieldAllIterator_=null,this.context_.throw_(aa),this.nextStep_()}this.context_.yieldAllIterator_=null;E.call(this.context_,T);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var n=this.program_(this.context_);if(n)return this.context_.stop_(),{value:n.value,done:!1}}catch(u){this.context_.yieldResult=void 0,this.context_.throw_(u)}this.context_.stop_();if(this.context_.abruptCompletion_){n=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(n.isException)throw n.exception;return{value:n.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(n){this.next=function(u){return n.next_(u)};this.throw=function(u){return n.throw_(u)};this.return=function(u){return n.return_(u)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(n,u){u=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(u));$jscomp.setPrototypeOf&&n.prototype&&$jscomp.setPrototypeOf(u,n.prototype);return u};
$jscomp.asyncExecutePromiseGenerator=function(n){function u(I){return n.next(I)}function E(I){return n.throw(I)}return new Promise(function(I,T){function aa(qa){qa.done?I(qa.value):Promise.resolve(qa.value).then(u,E).then(aa,T)}aa(n.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(n){return $jscomp.asyncExecutePromiseGenerator(n())};$jscomp.asyncExecutePromiseGeneratorProgram=function(n){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(n)))};
(function(){function n(a,b){return b={exports:{}},a(b,b.exports),b.exports}function u(a,b,c,d){this.id=b;this.name=a;this.keys=c||{};this.originalEngine=this.engine=d||kc}function E(){this.tasks={};this.nextId=1}function I(a){return I.enabled(a)?function(b){b instanceof Error&&(b=b.stack||b.message);var c=new Date,d=c-(I[a]||c);I[a]=c;b=a+" "+b+" +"+I.humanize(d);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function T(a,b){return function(){return a.apply(b,
arguments)}}function aa(a,b,c){"function"===typeof b&&(c=b);this.name=a;this.id=Gb();this.fn=c;this.maxItems=b.maxItems||Infinity;this.maxAttempts=b.maxAttempts||Infinity;this.backoff={MIN_RETRY_DELAY:b.minRetryDelay||1E3,MAX_RETRY_DELAY:b.maxRetryDelay||3E4,FACTOR:b.backoffFactor||2,JITTER:b.backoffJitter||0};this.timeouts={ACK_TIMER:1E3,RECLAIM_TIMER:3E3,RECLAIM_TIMEOUT:1E4,RECLAIM_WAIT:500};this.keys={IN_PROGRESS:"inProgress",QUEUE:"queue",RECLAIM_START:"reclaimStart",RECLAIM_END:"reclaimEnd",
ACK:"ack"};this._schedule=new lc;this._processId=0;this._store=new nb(this.name,this.id,this.keys);this._store.set(this.keys.IN_PROGRESS,{});this._store.set(this.keys.QUEUE,[]);this._ack=T(this._ack,this);this._checkReclaim=T(this._checkReclaim,this);this._processHead=T(this._processHead,this);this._running=!1}function qa(a){switch(typeof a.className){case "string":return a.className;case "object":return a.className.baseVal||a.getAttribute("class")||"";default:return""}}function mc(a){var b="";Ra(a)&&
a.childNodes&&a.childNodes.length&&g.each(a.childNodes,function(c){c&&3===c.nodeType&&c.textContent&&(b+=g.trim(c.textContent).split(/(\s+)/).filter(Sa).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))});return g.trim(b)}function nc(a){return oc(a).map(function(b){return b.textContent.trim()}).filter(Sa).join(" ").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function oc(a,b){b=void 0===b?10:b;var c=null,d=[];if(Ra(a)&&a.childNodes&&a.childNodes.length)for(a=[[a,
0]];a.length;){var e=$jscomp.makeIterator(a.pop()),f=e.next().value;e=e.next().value;if(!(e>b)&&null!==f)for(var h=0;h<f.childNodes.length;h++){var k=f.childNodes[h],m=k.nodeType;if((1===m||9===m||11===m)&&Ra(k))a.push([k,e+1]);else if(k.nodeType===window.Node.TEXT_NODE&&k.textContent.trim()){if(!c)c=k;else if(c.parentNode!==k.parentNode)return[];d.push(k)}}}return d}function pc(a){return a&&11===a.nodeType}function Ba(a,b){return a&&a.tagName&&a.tagName.toLowerCase()===b.toLowerCase()}function qc(a,
b){if(!a||Ba(a,"html")||!a||1!==a.nodeType)return!1;switch(a.tagName.toLowerCase()){case "html":return!1;case "form":return"submit"===b.type;case "input":return-1===["button","submit"].indexOf(a.getAttribute("type"))?"change"===b.type:"click"===b.type;case "select":case "textarea":return"change"===b.type;default:return"click"===b.type}}function rc(a){for(var b=[a];a.parentNode&&!Ba(a,"body")&&!pc(a.parentNode);)b.push(a.parentNode),a=a.parentNode;return b}function Ra(a){return!Hb(a)||Ba(a,"input")||
Ba(a,"select")||Ba(a,"textarea")||"true"===a.getAttribute("contenteditable")?!1:!0}function Hb(a){for(var b=a;b.parentNode&&!Ba(b,"body");b=b.parentNode){var c=qa(b).split(" ");if(g.includes(c,"fp-sensitive")||g.includes(c,"fp-no-track"))return!1}if(g.includes(qa(a).split(" "),"fp-include"))return!0;b=a.type||"";if("string"===typeof b)switch(b.toLowerCase()){case "hidden":return!1;case "password":return!1}a=a.name||a.id||"";return"string"===typeof a&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(a.replace(/[^a-zA-Z0-9]/g,
""))?!1:!0}function Sa(a){return null===a||g.isUndefined(a)||"string"===typeof a&&(a=g.trim(a),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((a||"").replace(/[\- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(a))?!1:!0}function ob(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||
document.documentElement.clientWidth)}function sc(a,b){Ib(!0,a,b)}function tc(a,b){Ib(!1,a,b)}function uc(a,b){return"1"===Jb(a,b)}function Kb(a,b){return"0"===Jb(a,b)}function Ha(a){return Lb(a,function(b){return this._get_config(b)})}function vc(a,b){b=b||{};pb(b).remove(qb(a,b),!!b.crossSubdomainCookie)}function pb(a){a=a||{};return"localStorage"===a.persistenceType?g.localStorage:g.cookie}function qb(a,b){b=b||{};return(b.persistencePrefix||"__mp_opt_in_out_")+a}function Jb(a,b){return pb(b).get(qb(a,
b))}function Ib(a,b,c){g.isString(b)&&b.length?(c=c||{},pb(c).set(qb(b,c),a?1:0,g.isNumber(c.cookieExpiration)?c.cookieExpiration:null,!!c.crossSubdomainCookie,!!c.secureCookie),c.track&&a&&c.track(c.trackEventName||"$opt_in",c.trackProperties)):console.error("gdpr."+(a?"optIn":"optOut")+" called with an invalid token")}function Lb(a,b){return function(){var c=!1;try{var d=b.call(this,"token"),e=b.call(this,"opt_out_tracking_persistence_type"),f=b.call(this,"opt_out_tracking_cookie_prefix"),h=b.call(this,
"window");d&&(c=Kb(d,{persistenceType:e,persistencePrefix:f,window:h}))}catch(k){console.error("Unexpected error when checking tracking opt-out status: "+k)}if(!c)return a.apply(this,arguments);c=arguments[arguments.length-1];"function"===typeof c&&c(0)}}function Mb(){if(Ta)return Ta;Ta=R;Ta.init();return Ta}function Ia(a){var b=a.url_regex;if(void 0===b)this.urlRegex=null;else try{this.urlRegex=new RegExp(b)}catch(c){this.urlRegex=null}this.allowedProperties=a.allowed_properties||[]}function Nb(a,
b){a=a||{};if(!g.isObject(b))return a;b=$jscomp.makeIterator(Object.entries(b));for(var c=b.next();!c.done;c=b.next()){var d=$jscomp.makeIterator(c.value);c=d.next().value;d=d.next().value;c in a?g.isObject(a[c])&&(a[c]=Nb(a[c],d)):a[c]=d}return a}function rb(a,b,c){c=void 0===c?0:c;if(void 0!==a){if(c>=b.length)return g.cloneObject(a);if(a instanceof Object){var d=b[c];if("*"===d){d={};a=$jscomp.makeIterator(Object.entries(a));for(var e=a.next();!e.done;e=a.next()){var f=$jscomp.makeIterator(e.value);
e=f.next().value;f=f.next().value;f=rb(f,b,c+1);void 0!==f&&(d[e]=f)}return d}b=rb(a[d],b,c+1);if(void 0!==b)return c={},c[d]=b,c}}}function Ob(a,b){var c={All:!1};if(!a||"object"!==typeof a||g.isEmptyObject(a))return console.error("Missing or invalid category mapping",a),c;if(!b||!Array.isArray(b))return console.error("Missing or invalid list of consented categories",b),c;a=$jscomp.makeIterator(Object.entries(a));for(var d=a.next();!d.done;d=a.next()){var e=$jscomp.makeIterator(d.value);d=e.next().value;
e=e.next().value;if(!e||!Array.isArray(e))console.error("Invalid mapping for category",d," - must be an array of destinations");else if(0!==e.length){d=b.includes(d);e=$jscomp.makeIterator(e);for(var f=e.next();!f.done;f=e.next())f=f.value,!1!==c[f]&&(c[f]=d)}}return c}function wc(a,b){var c,d,e=b.category_mapping;if(e&&"object"===typeof e){b=function(h){h=xc(e,h);a.set_consent(h)};var f=null===(d=null===(c=window.Osano)||void 0===c?void 0:c.cm)||void 0===d?void 0:d.getConsent();b(f);window.Osano("onConsentSaved",
b)}else y.error("Invalid osano consent management configuration - must include a category_mapping object")}function xc(a,b){if(!b||"object"!==typeof b)return y.error("Invalid osano consent object",b),{All:!1};var c=Object.keys(b);if(!c||0===c.length)return y.log("No categories found in osano consent object",b),{All:!1};c=c.filter(function(d){return"ACCEPT"===b[d]});return Ob(a,c)}function yc(a,b){var c=b.category_mapping;if(c&&"object"===typeof c){var d=function(e){e&&"object"===typeof e&&Array.isArray(e)?
e=Ob(c,e):(y.error("Invalid onetrust consent object",e),e={All:!1});a.set_consent(e)};window.OnetrustActiveGroups&&"string"===typeof window.OnetrustActiveGroups&&(b=window.OnetrustActiveGroups.split(",").filter(Boolean),d(b));window.addEventListener("OneTrustGroupsUpdated",function(e){d(null===e||void 0===e?void 0:e.detail)})}else y.error("Invalid onetrust consent management configuration - must include a category_mapping object")}function zc(a){this.priority=a.priority;this.targetValue=a.targetValue;
this.operation=a.operation;this.operandValue=a.operandValue}function Ac(a){this.destinationName=a.destinationName;this.eventDefId=a.eventDefId;this.priority=a.priority;this.eventType=a.eventType||"track";var b=this.transformations=[];g.each(a.transformations,function(c){b.push(new zc(c))})}function Ua(a,b){this.transformation=a;this.set=b}function Bc(a,b){if(b===sb.String){if(null===a)throw Error("Cant cast null to string");if("object"===typeof a)return JSON.stringify(a);if("string"===typeof a)return a;
if("number"===typeof a)return a.toString();if("boolean"===typeof a)return a?"true":"false"}else if(b===sb.Number){if("object"===typeof a)throw Error("Cant cast object to number");if("string"===typeof a)return parseFloat(a)||a;if("number"===typeof a)return a;if("boolean"===typeof a)throw Error("Cant cast boolean to number");}else if(b===sb.Boolean){if("object"===typeof a)throw Error("Cant cast object to boolean");if("string"===typeof a)return b=a.toLowerCase(),"t"===b||"true"===b?!0:"f"===b||"false"===
b?!1:a;if("number"===typeof a)return 0!==a;if("boolean"===typeof a)return a}else throw Error("Got unexpected target type of cast transformation: "+b);}function ka(a){this.transformers=g.sortBy(g.sortBy(a,function(b){return b.transformation.priority}),function(b){return b.set.priority})}function Cc(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function Pb(a,b){for(var c={All:!1},d=g.keys(a.enabled_client_destinations),e=0;e<d.length;e++){var f=b[d[e]];f&&(f=f.name)&&(c[f]=!0)}return new Qb(a.name,
a.id,Rb(a.filter),c,a.snapshots||[],a.segment_compatible||!1)}function Rb(a){if("and"===a.type){for(var b=[],c=0;c<a.filters.length;c++)b.push(Rb(a.filters[c]));return new tb(b)}return"prop_filter"===a.type?new ub(a.prop,a.op,a.val,a.negate||!1):new tb([])}function Dc(a,b,c){var d={};a.forEach(function(f){return d[f.id]=f});var e={};Object.values(b).forEach(function(f){return e[f.id]=f});c.forEach(function(f){return d[f.id]=Pb(f,e)});return Object.values(d)}function Ec(a,b,c){if(!window.XMLHttpRequest)return c({eventDefs:[],
destInfo:[],transformer:ka.nil,configVersion:0});try{var d=new XMLHttpRequest;d.open("GET",a.config_url||a.app_host+"/event-definitions/"+b,!0);d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status){if(c)try{var e=JSON.parse(d.responseText),f=[],h={},k=e.dest_info,m={},r=ka.nil,v=e.version||1,q={},A={},G=!0,B="GET",J=e.enabled_enhanced_events,x=e.enable_impression_pixel_sync||!1,Q=e.networkCaptureConfig;void 0!==Q&&(Q=Q.allowlist);var S=e.consentManagementConfigs||{};2<=v&&(r=ka.fromTransformationSets(e.transformation_sets));
var na=[];if(void 0!==Q)for(var ba in Q.rules||[]){var U=new Ia(Q.rules[ba]);na.push(U)}for(Q=0;Q<k.length;Q++){var M=k[Q];if(3<=v)if(M.useTransformer=!0,M.skipTransformingEventNames=!1,"Twitter Ads"===M.name&&(M.mapping=r.getLegacyMapping(M.name),M.settings.events=r.getLegacyMappingToSelf(M.name)),"AdRoll"===M.name)M.mapping=r.getLegacyMapping(M.name),M.useTransformer=!1,M.settings.events=r.getLegacyMappingToSelf(M.name);else if("Google AdWords New"===M.name){for(ba=0;ba<e.event_defs.length;ba++){var ha=
e.event_defs[ba];h[ha.id]=ha.name}M.mapping=r.getLegacyMapping(M.name);M.skipTransformingEventNames=!0;ba=[];for(U=0;U<M.mapping.length;U++){var da=M.mapping[U],ia=h[da.fpEvent];ia&&ba.push({event:ia,id:da.destEvent})}M.settings.clickConversions=ba}m[M.id]=M}for(h=0;h<e.event_defs.length;h++)ha=Pb(e.event_defs[h],m),f.push(ha);q={"data-wa-link":!0,"data-ref":!0,"data-test-id":!0,"data-testid":!0,"data-automation":!0,"data-qa":!0,"data-component":!0,"data-category":!0,"data-index":!0,"data-tid":!0,
"data-selector":!0,"data-test":!0,"data-auid":!0,"data-hook":!0,"data-track":!0,"data-page":!0,"data-current-page":!0,"data-key":!0,"data-e2e":!0,"data-auto":!0,"data-element":!0,"data-source-file":!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0,name:!0,role:!0,src:!0,href:!0,alt:!0,action:!0};if(4<=v&&e.elementAttributesWhitelist)for(ha=0;ha<e.elementAttributesWhitelist;ha++)q[e.elementAttributesWhitelist[ha]]=!0;5<=v&&e.codeEvalConfig&&"object"===typeof e.codeEvalConfig&&(A=g.extend({onPageLoad:null,
onPageChange:null,beforeEventFire:null},e.codeEvalConfig));6<=v&&(G=!!e.attemptRetry);7<=v&&(B=e.trackRequestType);c({eventDefs:f,destInfo:k,transformer:r,configVersion:v,elementAttributesWhitelist:q,codeEvalConfig:A,allowRetry:G,trackRequestType:B,allowList:na,enabledEnhancedEvents:J,enableImpressionPixelSync:x,consentManagementConfigs:S})}catch(ua){console.error(ua),c({eventDefs:[],destInfo:[],transformer:ka.nil,configVersion:0})}}else 404===d.status?console.error("The above 404 is expected. It appears you have not setup your Freshpaint account yet."):
console.error("Bad HTTP status: "+d.status+" "+d.statusText),c({eventDefs:[],destInfo:[],transformer:ka.nil,configVersion:0})};d.send(null)}catch(e){console.error(e)}}function Fc(){if("undefined"!==typeof window){var a=window.Element.prototype;"function"!==typeof a.matches&&(a.matches=a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||function(b){b=(this.document||this.ownerDocument).querySelectorAll(b);for(var c=0;b[c]&&b[c]!==this;)++c;return!!b[c]});"function"!==typeof a.closest&&
(a.closest=function(b){for(var c=this;c&&1===c.nodeType;){if(c.matches(b))return c;c=c.parentNode}return null})}}function Ja(a){return"freshpaint"===a||"perfalytics"===a}function Gc(){var a=null;try{var b=K.cookie.split("; ");y.log("[perfalytics-js] Cookie values: ",b);a=b.find(function(c){return c.startsWith("_fbp=")}).split("=")[1]}catch(c){}return a}function Hc(a,b,c,d){function e(f){if(3===f.nodeType){var h=f.nodeValue.replace(b,d);f.nodeValue=h}else if(1===f.nodeType)for((h=f.getAttribute("href"))&&
h.replace(/\D/g,"")===a&&f.setAttribute("href","tel:"+c),h=0;h<f.childNodes.length;h++)e(f.childNodes[h])}e(K.body)}function Sb(a,b){b(a);if(1===a.nodeType)for(var c=0;c<a.childNodes.length;c++)Sb(a.childNodes[c],b)}function Ic(a,b,c){var d,e,f,h,k;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){switch(m.nextAddress){case 1:return d={visitorMetadata:b,envID:c,customerNumbers:a},e=JSON.stringify(d),m.setCatchFinallyBlocks(2),m.yield(fetch("https://api.perfalytics.com/swap-phone-numbers",
{method:"POST",headers:{"Content-Type":"application/json"},body:e}),4);case 4:return f=m.yieldResult,m.yield(f.json(),5);case 5:return h=m.yieldResult,m.return(h.swaps);case 2:k=m.enterCatchBlock(),y.error("Error:",k);case 3:return m.return([])}})}function Tb(a,b){if("4b82b11f-7d2b-42d9-93ea-4dff599ad2b1"!==a||"/"===P.location.pathname||"Thumbtack Help"!==K.title)return b();setTimeout(function(){Tb(a,b)},100)}for(var vb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:
"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ub=n(function(a){var b="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(b){var c=new Uint8Array(16);a.exports=function(){b(c);return c}}else{var d=Array(16);a.exports=function(){for(var e=0,f;16>e;e++)0===(e&3)&&(f=4294967296*Math.random()),d[e]=f>>>((e&3)<<3)&255;return d}}}),
ja=[],cb=0;256>cb;++cb)ja[cb]=(cb+256).toString(16).substr(1);var Vb=function(a,b){b=b||0;return[ja[a[b++]],ja[a[b++]],ja[a[b++]],ja[a[b++]],"-",ja[a[b++]],ja[a[b++]],"-",ja[a[b++]],ja[a[b++]],"-",ja[a[b++]],ja[a[b++]],"-",ja[a[b++]],ja[a[b++]],ja[a[b++]],ja[a[b++]],ja[a[b++]],ja[a[b++]]].join("")},Wb,wb,xb=0,yb=0,Va=function(a,b,c){c=b&&c||0;"string"==typeof a&&(b="binary"===a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||Ub)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(b)for(var d=0;16>d;++d)b[c+
d]=a[d];return b||Vb(a)};Va.v1=function(a,b,c){c=b&&c||0;var d=b||[];a=a||{};var e=a.node||Wb,f=void 0!==a.clockseq?a.clockseq:wb;if(null==e||null==f){var h=Ub();null==e&&(e=Wb=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]);null==f&&(f=wb=(h[6]<<8|h[7])&16383)}h=void 0!==a.msecs?a.msecs:(new Date).getTime();var k=void 0!==a.nsecs?a.nsecs:yb+1,m=h-xb+(k-yb)/1E4;0>m&&void 0===a.clockseq&&(f=f+1&16383);(0>m||h>xb)&&void 0===a.nsecs&&(k=0);if(1E4<=k)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
xb=h;yb=k;wb=f;h+=122192928E5;a=(1E4*(h&268435455)+k)%4294967296;d[c++]=a>>>24&255;d[c++]=a>>>16&255;d[c++]=a>>>8&255;d[c++]=a&255;a=h/4294967296*1E4&268435455;d[c++]=a>>>8&255;d[c++]=a&255;d[c++]=a>>>24&15|16;d[c++]=a>>>16&255;d[c++]=f>>>8|128;d[c++]=f&255;for(f=0;6>f;++f)d[c+f]=e[f];return b?b:Vb(d)};Va.v4=Va;var Jc=Object.prototype.hasOwnProperty,Kc=String.prototype.charAt,Lc=Object.prototype.toString,Mc=function(a,b){return Kc.call(a,b)},zb=function(a,b){return Jc.call(a,b)},Xb=function(a,b){b=
b||zb;for(var c=[],d=0,e=a.length;d<e;d+=1)b(a,d)&&c.push(String(d));return c},Wa=function(a){if(null==a)return[];if("[object String]"===Lc.call(a))return Xb(a,Mc);if(null!=a&&"function"!==typeof a&&"number"===typeof a.length)return Xb(a,zb);var b=zb;var c=[],d;for(d in a)b(a,d)&&c.push(String(d));return c},Nc=Va.v4,Ab={_data:{},length:0,setItem:function(a,b){this._data[a]=b;this.length=Wa(this._data).length;return b},getItem:function(a){return a in this._data?this._data[a]:null},removeItem:function(a){a in
this._data&&delete this._data[a];this.length=Wa(this._data).length;return null},clear:function(){this._data={};this.length=0},key:function(a){return Wa(this._data)[a]}};var Oc=function(){try{if(!window.localStorage)return!1;var a=Nc();window.localStorage.setItem(a,"test_value");var b=window.localStorage.getItem(a);window.localStorage.removeItem(a);return"test_value"===b}catch(c){return!1}}()?window.localStorage:Ab;var Yb=Object.prototype.toString,Pc="function"===typeof Array.isArray?Array.isArray:
function(a){return"[object Array]"===Yb.call(a)},Qc=function(a,b){for(var c=0;c<b.length&&!1!==a(b[c],c,b);c+=1);},Rc=function(a,b){for(var c=Wa(b),d=0;d<c.length&&!1!==a(b[c[d]],c[d],b);d+=1);},Ca=function(a,b){var c;if((c=null!=b)&&!(c=Pc(b))&&(c="function"!==b)){c=b.length;var d=typeof c;c="number"===d||"object"===d&&"[object Number]"===Yb.call(c)}return(c?Qc:Rc).call(this,a,b)},Zb=n(function(a,b){(function(){function c(q,A){function G(t,z){try{t()}catch(w){z&&z()}}function B(t){if(null!=B[t])return B[t];
if("bug-string-char-index"==t)var z=!1;else if("json"==t)z=B("json-stringify")&&B("date-serialization")&&B("json-parse");else if("date-serialization"==t){if(z=B("json-stringify")&&ia){var w=A.stringify;G(function(){z='"-271821-04-20T00:00:00.000Z"'==w(new S(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==w(new S(864E13))&&'"-000001-01-01T00:00:00.000Z"'==w(new S(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==w(new S(-1))})}}else{var D;if("json-stringify"==t){w=A.stringify;var C="function"==typeof w;C&&
((D=function(){return 1}).toJSON=D,G(function(){C="0"===w(0)&&"0"===w(new J)&&'""'==w(new x)&&w(M)===da&&w(da)===da&&w()===da&&"1"===w(D)&&"[1]"==w([D])&&"[null]"==w([da])&&"null"==w(null)&&"[null,null,null]"==w([da,M,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==w({a:[D,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===w(null,D)&&"[\n 1,\n 2\n]"==w([1,2],null,1)},function(){C=!1}));z=C}if("json-parse"==t){var N=A.parse,p;"function"==typeof N&&G(function(){0===N("0")&&!N(!1)&&(D=N('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),
p=5==D.a.length&&1===D.a[0])&&(G(function(){p=!N('"\t"')}),p&&G(function(){p=1!==N("01")}),p&&G(function(){p=1!==N("1.")}))},function(){p=!1});z=p}}return B[t]=!!z}q||(q=f.Object());A||(A=f.Object());var J=q.Number||f.Number,x=q.String||f.String,Q=q.Object||f.Object,S=q.Date||f.Date,na=q.SyntaxError||f.SyntaxError,ba=q.TypeError||f.TypeError,U=q.Math||f.Math;q=q.JSON||f.JSON;"object"==typeof q&&q&&(A.stringify=q.stringify,A.parse=q.parse);Q=Q.prototype;var M=Q.toString,ha=Q.hasOwnProperty,da,ia=new S(-0xc782b5b800cec);
G(function(){ia=-109252==ia.getUTCFullYear()&&0===ia.getUTCMonth()&&1===ia.getUTCDate()&&10==ia.getUTCHours()&&37==ia.getUTCMinutes()&&6==ia.getUTCSeconds()&&708==ia.getUTCMilliseconds()});B["bug-string-char-index"]=B["date-serialization"]=B.json=B["json-stringify"]=B["json-parse"]=null;if(!B("json")){var ua=B("bug-string-char-index"),fa=function(t,z){var w=0,D,C;(D=function(){this.valueOf=0}).prototype.valueOf=0;var N=new D;for(C in N)ha.call(N,C)&&w++;D=N=null;w?fa=function(p,H){var ea="[object Function]"==
M.call(p),O,Y;for(O in p)ea&&"prototype"==O||!ha.call(p,O)||(Y="constructor"===O)||H(O);(Y||ha.call(p,O="constructor"))&&H(O)}:(N="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),fa=function(p,H){var ea="[object Function]"==M.call(p),O,Y=!ea&&"function"!=typeof p.constructor&&d[typeof p.hasOwnProperty]&&p.hasOwnProperty||ha;for(O in p)ea&&"prototype"==O||!Y.call(p,O)||H(O);for(ea=N.length;O=N[--ea];)Y.call(p,O)&&H(O)});return fa(t,z)};if(!B("json-stringify")&&
!B("date-serialization")){var Xa={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},oa=function(t,z){return("000000"+(z||0)).slice(-t)},ya=function(t){var z,w,D,C,N,p,H,ea;if(ia)var O=function(V){z=V.getUTCFullYear();w=V.getUTCMonth();D=V.getUTCDate();N=V.getUTCHours();p=V.getUTCMinutes();H=V.getUTCSeconds();ea=V.getUTCMilliseconds()};else{var Y=U.floor,db=[0,31,59,90,120,151,181,212,243,273,304,334],xa=function(V,wa){return db[wa]+365*(V-1970)+Y((V-1969+(wa=+(1<wa)))/4)-Y((V-1901+wa)/
100)+Y((V-1601+wa)/400)};O=function(V){D=Y(V/864E5);for(z=Y(D/365.2425)+1970-1;xa(z+1,0)<=D;z++);for(w=Y((D-xa(z,0))/30.42);xa(z,w+1)<=D;w++);D=1+D-xa(z,w);C=(V%864E5+864E5)%864E5;N=Y(C/36E5)%24;p=Y(C/6E4)%60;H=Y(C/1E3)%60;ea=C%1E3}}ya=function(V){V>-1/0&&V<1/0?(O(V),V=(0>=z||1E4<=z?(0>z?"-":"+")+oa(6,0>z?-z:z):oa(4,z))+"-"+oa(2,w+1)+"-"+oa(2,D)+"T"+oa(2,N)+":"+oa(2,p)+":"+oa(2,H)+"."+oa(3,ea)+"Z",z=w=D=N=p=H=ea=null):V=null;return V};return ya(t)};if(B("json-stringify")&&!B("date-serialization")){var Ka=
function(t){return ya(this)},eb=A.stringify;A.stringify=function(t,z,w){var D=S.prototype.toJSON;S.prototype.toJSON=Ka;t=eb(t,z,w);S.prototype.toJSON=D;return t}}else{var Ya=function(t){t=t.charCodeAt(0);var z=Xa[t];return z?z:"\\u00"+oa(2,t.toString(16))},La=/[\x00-\x1f\x22\x5c]/g,Za=function(t){La.lastIndex=0;return'"'+(La.test(t)?t.replace(La,Ya):t)+'"'},ra=function(t,z,w,D,C,N,p){var H,ea;G(function(){H=z[t]});"object"==typeof H&&H&&(H.getUTCFullYear&&"[object Date]"==M.call(H)&&H.toJSON===S.prototype.toJSON?
H=ya(H):"function"==typeof H.toJSON&&(H=H.toJSON(t)));w&&(H=w.call(z,t,H));if(H==da)return H===da?H:"null";var O=typeof H;"object"==O&&(ea=M.call(H));switch(ea||O){case "boolean":case "[object Boolean]":return""+H;case "number":case "[object Number]":return H>-1/0&&H<1/0?""+H:"null";case "string":case "[object String]":return Za(""+H)}if("object"==typeof H){for(O=p.length;O--;)if(p[O]===H)throw ba();p.push(H);var Y=[];var db=N;N+=C;if("[object Array]"==ea){var xa=0;for(O=H.length;xa<O;xa++)ea=ra(xa,
H,w,D,C,N,p),Y.push(ea===da?"null":ea);O=Y.length?C?"[\n"+N+Y.join(",\n"+N)+"\n"+db+"]":"["+Y.join(",")+"]":"[]"}else fa(D||H,function(V){var wa=ra(V,H,w,D,C,N,p);wa!==da&&Y.push(Za(V)+":"+(C?" ":"")+wa)}),O=Y.length?C?"{\n"+N+Y.join(",\n"+N)+"\n"+db+"}":"{"+Y.join(",")+"}":"{}";p.pop();return O}};A.stringify=function(t,z,w){var D;if(d[typeof z]&&z){var C=M.call(z);if("[object Function]"==C)var N=z;else if("[object Array]"==C){var p={};for(var H=0,ea=z.length,O;H<ea;)if(O=z[H++],C=M.call(O),"[object String]"==
C||"[object Number]"==C)p[O]=1}}if(w)if(C=M.call(w),"[object Number]"==C){if(0<(w-=w%1))for(10<w&&(w=10),D="";D.length<w;)D+=" "}else"[object String]"==C&&(D=10>=w.length?w:w.slice(0,10));return ra("",(O={},O[""]=t,O),N,p,D,"",[])}}}if(!B("json-parse")){var $a=x.fromCharCode,Ma={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},F,ta,Z=function(){F=ta=null;throw na();},sa=function(){for(var t=ta,z=t.length,w,D,C,N,p;F<z;)switch(p=t.charCodeAt(F),p){case 9:case 10:case 13:case 32:F++;
break;case 123:case 125:case 91:case 93:case 58:case 44:return w=ua?t.charAt(F):t[F],F++,w;case 34:w="@";for(F++;F<z;)if(p=t.charCodeAt(F),32>p)Z();else if(92==p)switch(p=t.charCodeAt(++F),p){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:w+=Ma[p];F++;break;case 117:D=++F;for(C=F+4;F<C;F++)p=t.charCodeAt(F),48<=p&&57>=p||97<=p&&102>=p||65<=p&&70>=p||Z();w+=$a("0x"+t.slice(D,F));break;default:Z()}else{if(34==p)break;p=t.charCodeAt(F);for(D=F;32<=p&&92!=p&&34!=p;)p=t.charCodeAt(++F);
w+=t.slice(D,F)}if(34==t.charCodeAt(F))return F++,w;Z();default:D=F;45==p&&(N=!0,p=t.charCodeAt(++F));if(48<=p&&57>=p){for(48==p&&(p=t.charCodeAt(F+1),48<=p&&57>=p)&&Z();F<z&&(p=t.charCodeAt(F),48<=p&&57>=p);F++);if(46==t.charCodeAt(F)){for(C=++F;C<z&&!(p=t.charCodeAt(C),48>p||57<p);C++);C==F&&Z();F=C}p=t.charCodeAt(F);if(101==p||69==p){p=t.charCodeAt(++F);43!=p&&45!=p||F++;for(C=F;C<z&&!(p=t.charCodeAt(C),48>p||57<p);C++);C==F&&Z();F=C}return+t.slice(D,F)}N&&Z();w=t.slice(F,F+4);if("true"==w)return F+=
4,!0;if("fals"==w&&101==t.charCodeAt(F+4))return F+=5,!1;if("null"==w)return F+=4,null;Z()}return"$"},Da=function(t){var z;"$"==t&&Z();if("string"==typeof t){if("@"==(ua?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(z=[];;){t=sa();if("]"==t)break;if(w)","==t?(t=sa(),"]"==t&&Z()):Z();else var w=!0;","==t&&Z();z.push(Da(t))}return z}if("{"==t){for(z={};;){t=sa();if("}"==t)break;w?","==t?(t=sa(),"}"==t&&Z()):Z():w=!0;","!=t&&"string"==typeof t&&"@"==(ua?t.charAt(0):t[0])&&":"==sa()||Z();z[t.slice(1)]=
Da(sa())}return z}Z()}return t},Na=function(t,z,w){w=Ea(t,z,w);w===da?delete t[z]:t[z]=w},Ea=function(t,z,w){var D=t[z],C;if("object"==typeof D&&D)if("[object Array]"==M.call(D))for(C=D.length;C--;)Na(M,fa,D,C,w);else fa(D,function(N){Na(D,N,w)});return w.call(t,z,D)};A.parse=function(t,z){var w;F=0;ta=""+t;t=Da(sa());"$"!=sa()&&Z();F=ta=null;return z&&"[object Function]"==M.call(z)?Ea((w={},w[""]=t,w),"",z):t}}}A.runInContext=c;return A}var d={"function":!0,object:!0},e=d.object&&b&&!b.nodeType&&
b,f=d[typeof window]&&window||this,h=e&&d.object&&a&&!a.nodeType&&"object"==typeof vb&&vb;!h||h.global!==h&&h.window!==h&&h.self!==h||(f=h);if(e)c(f,e);else{var k=f.JSON,m=f.JSON3,r=!1,v=c(f,f.JSON3={noConflict:function(){r||(r=!0,f.JSON=k,f.JSON3=m,k=m=null);return v}});f.JSON={parse:v.parse,stringify:v.stringify}}}).call(vb)}),kc=Oc;u.prototype.set=function(a,b){var c=this._createValidKey(a);if(c)try{this.engine.setItem(c,Zb.stringify(b))}catch(d){c=!1;if(d.code)switch(d.code){case 22:c=!0;break;
case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===d.name&&(c=!0)}else-2147024882===d.number&&(c=!0);c&&(this._swapEngine(),this.set(a,b))}};u.prototype.get=function(a){try{var b=this.engine.getItem(this._createValidKey(a));return null===b?null:Zb.parse(b)}catch(c){return null}};u.prototype.getOriginalEngine=function(){return this.originalEngine};u.prototype.remove=function(a){this.engine.removeItem(this._createValidKey(a))};u.prototype._createValidKey=function(a){var b=this.name,c=this.id;if(!Wa(this.keys).length)return[b,
c,a].join(".");var d;Ca(function(e){e===a&&(d=[b,c,a].join("."))},this.keys);return d};u.prototype._swapEngine=function(){var a=this;Ca(function(b){var c=a.get(b);Ab.setItem([a.name,a.id,b].join("."),c);a.remove(b)},this.keys);this.engine=Ab};var nb=u,$b={setTimeout:function(a,b){return window.setTimeout(a,b)},clearTimeout:function(a){return window.clearTimeout(a)},Date:"undefined"!==typeof window?window.Date:Date},Oa=$b;E.prototype.now=function(){return+new Oa.Date};E.prototype.run=function(a,b){var c=
this.nextId++;this.tasks[c]=Oa.setTimeout(this._handle(c,a),b);return c};E.prototype.cancel=function(a){this.tasks[a]&&(Oa.clearTimeout(this.tasks[a]),delete this.tasks[a])};E.prototype.cancelAll=function(){Ca(Oa.clearTimeout,this.tasks);this.tasks={}};E.prototype._handle=function(a,b){var c=this;return function(){delete c.tasks[a];return b()}};E.setClock=function(a){Oa=a};E.resetClock=function(){Oa=$b};var lc=E;I.names=[];I.skips=[];I.enable=function(a){try{localStorage.debug=a}catch(e){}for(var b=
(a||"").split(/[\s,]+/),c=b.length,d=0;d<c;d++)a=b[d].replace("*",".*?"),"-"===a[0]?I.skips.push(new RegExp("^"+a.substr(1)+"$")):I.names.push(new RegExp("^"+a+"$"))};I.disable=function(){I.enable("")};I.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};I.enabled=function(a){for(var b=0,c=I.skips.length;b<c;b++)if(I.skips[b].test(a))return!1;b=0;for(c=I.names.length;b<c;b++)if(I.names[b].test(a))return!0;return!1};try{window.localStorage&&
I.enable(localStorage.debug)}catch(a){}var Sc=n(function(a){function b(c){if(c){for(var d in b.prototype)c[d]=b.prototype[d];return c}}a.exports=b;b.prototype.on=b.prototype.addEventListener=function(c,d){this._callbacks=this._callbacks||{};(this._callbacks["$"+c]=this._callbacks["$"+c]||[]).push(d);return this};b.prototype.once=function(c,d){function e(){this.off(c,e);d.apply(this,arguments)}e.fn=d;this.on(c,e);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=
b.prototype.removeEventListener=function(c,d){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+c];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+c],this;for(var f,h=0;h<e.length;h++)if(f=e[h],f===d||f.fn===d){e.splice(h,1);break}return this};b.prototype.emit=function(c){this._callbacks=this._callbacks||{};var d=[].slice.call(arguments,1),e=this._callbacks["$"+c];if(e){e=e.slice(0);for(var f=0,h=e.length;f<
h;++f)e[f].apply(this,d)}return this};b.prototype.listeners=function(c){this._callbacks=this._callbacks||{};return this._callbacks["$"+c]||[]};b.prototype.hasListeners=function(c){return!!this.listeners(c).length}}),Gb=Va.v4,Tc=I("localstorage-retry");Sc(aa.prototype);aa.prototype.start=function(){this._running&&this.stop();this._running=!0;this._ack();this._checkReclaim();this._processHead()};aa.prototype.stop=function(){this._schedule.cancelAll();this._running=!1};aa.prototype.shouldRetry=function(a,
b){return b>this.maxAttempts?!1:!0};aa.prototype.getDelay=function(a){a=this.backoff.MIN_RETRY_DELAY*Math.pow(this.backoff.FACTOR,a);if(this.backoff.JITTER){var b=Math.random(),c=Math.floor(b*this.backoff.JITTER*a);a=5>Math.floor(10*b)?a-c:a+c}return Number(Math.min(a,this.backoff.MAX_RETRY_DELAY).toPrecision(1))};aa.prototype.addItem=function(a){this._enqueue({item:a,attemptNumber:0,time:this._schedule.now()})};aa.prototype.requeue=function(a,b,c){this.shouldRetry(a,b,c)?this._enqueue({item:a,attemptNumber:b,
time:this._schedule.now()+this.getDelay(b)}):this.emit("discard",a,b)};aa.prototype._enqueue=function(a){var b=this._store.get(this.keys.QUEUE)||[];b=b.slice(-(this.maxItems-1));b.push(a);b=b.sort(function(c,d){return c.time-d.time});this._store.set(this.keys.QUEUE,b);this._running&&this._processHead()};aa.prototype._processHead=function(){function a(v,q){h.push({item:v.item,done:function(A,G){var B=c.get(b.keys.IN_PROGRESS)||{};delete B[q];c.set(b.keys.IN_PROGRESS,B);b.emit("processed",A,G,v.item);
A&&b.requeue(v.item,v.attemptNumber+1,A)}})}var b=this,c=this._store;this._schedule.cancel(this._processId);for(var d=c.get(this.keys.QUEUE)||[],e=c.get(this.keys.IN_PROGRESS)||{},f=this._schedule.now(),h=[],k=Object.keys(e).length;d.length&&d[0].time<=f&&k++<b.maxItems;){var m=d.shift(),r=Gb();e[r]={item:m.item,attemptNumber:m.attemptNumber,time:b._schedule.now()};a(m,r)}c.set(this.keys.QUEUE,d);c.set(this.keys.IN_PROGRESS,e);Ca(function(v){try{b.fn(v.item,v.done)}catch(q){Tc("Process function threw error: "+
q)}},h);d=c.get(this.keys.QUEUE)||[];this._schedule.cancel(this._processId);0<d.length&&(this._processId=this._schedule.run(this._processHead,d[0].time-f))};aa.prototype._ack=function(){this._store.set(this.keys.ACK,this._schedule.now());this._store.set(this.keys.RECLAIM_START,null);this._store.set(this.keys.RECLAIM_END,null);this._schedule.run(this._ack,this.timeouts.ACK_TIMER)};aa.prototype._checkReclaim=function(){function a(c){c.set(b.keys.RECLAIM_START,b.id);c.set(b.keys.ACK,b._schedule.now());
b._schedule.run(function(){c.get(b.keys.RECLAIM_START)===b.id&&(c.set(b.keys.RECLAIM_END,b.id),b._schedule.run(function(){c.get(b.keys.RECLAIM_END)===b.id&&c.get(b.keys.RECLAIM_START)===b.id&&b._reclaim(c.id)},b.timeouts.RECLAIM_WAIT))},b.timeouts.RECLAIM_WAIT)}var b=this;Ca(function(c){c.id!==b.id&&(b._schedule.now()-c.get(b.keys.ACK)<b.timeouts.RECLAIM_TIMEOUT||a(c))},function(c){for(var d=[],e=b._store.getOriginalEngine(),f=0;f<e.length;f++){var h=e.key(f).split(".");3===h.length&&h[0]===c&&"ack"===
h[2]&&d.push(new nb(c,h[1],b.keys))}return d}(this.name));this._schedule.run(this._checkReclaim,this.timeouts.RECLAIM_TIMER)};aa.prototype._reclaim=function(a){var b=this;a=new nb(this.name,a,this.keys);var c=this._store.get(this.keys.QUEUE)||[],d=a.get(this.keys.IN_PROGRESS)||{},e=a.get(this.keys.QUEUE)||[];Ca(function(f){c.push({item:f.item,attemptNumber:f.attemptNumber,time:b._schedule.now()})},e);Ca(function(f){c.push({item:f.item,attemptNumber:f.attemptNumber+1,time:b._schedule.now()})},d);c=
c.sort(function(f,h){return f.time-h.time});this._store.set(this.keys.QUEUE,c);a.remove(this.keys.IN_PROGRESS);a.remove(this.keys.QUEUE);a.remove(this.keys.RECLAIM_START);a.remove(this.keys.RECLAIM_END);a.remove(this.keys.ACK);this._processHead()};var za=!1,Fa=!1;if("undefined"===typeof window){var ac={hostname:""};var P={navigator:{userAgent:""},document:{location:ac,referrer:""},screen:{width:0,height:0},location:ac}}else P=window;var fb=Array.prototype,Uc=Function.prototype,bc=Object.prototype,
Pa=fb.slice,ab=bc.toString,gb=bc.hasOwnProperty,ma=P.console,Ga=P.navigator,K=P.document,bb=P.opera,hb=P.screen,ca=Ga.userAgent;var Vc=ca&&-1!==Ga.userAgent.indexOf("Mobi")?"Mobile":"Desktop";var Bb=Uc.bind,cc=fb.map,dc=fb.forEach,ec=fb.indexOf,Wc=Array.isArray,Cb={},fc=/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i,g={trim:function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},Db=function(){this.events=[]};Db.prototype.logEvent=function(a,b){var c=[];g.each(b,function(d){try{var e=JSON.stringify(d)}catch(f){e=
String(d)}c.push(e)});b=c.join(" ");this.events.push({timestamp:(new Date).getTime(),level:a,url:window.location.href,message:b})};Db.prototype.getLogLines=function(){var a=[];g.each(this.events,function(b){a.push(b.timestamp+":"+b.level+":"+b.url+" 0:0 "+b.message)});return a};var ib=new Db,y={log:function(){Fa&&ib.logEvent("INFO",arguments);if(za&&!g.isUndefined(ma)&&ma)try{ma.log.apply(ma,arguments)}catch(a){g.each(arguments,function(b){ma.log(b)})}},error:function(){if(Fa||za&&!g.isUndefined(ma)&&
ma){var a=["Freshpaint error:"].concat(g.toArray(arguments));if(Fa)ib.logEvent("SEVERE",a);else try{ma.error.apply(ma,a)}catch(b){g.each(a,function(c){ma.error(c)})}}},critical:function(){if(Fa||!g.isUndefined(ma)&&ma){var a=["Freshpaint error:"].concat(g.toArray(arguments));if(Fa)ib.logEvent("SEVERE",a);else try{ma.error.apply(ma,a)}catch(b){g.each(a,function(c){ma.error(c)})}}}};g.bind=function(a,b){var c;if(Bb&&a.bind===Bb)return Bb.apply(a,Pa.call(arguments,1));if(!g.isFunction(a))throw new TypeError;
var d=Pa.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,d.concat(Pa.call(arguments)));var e={};e.prototype=a.prototype;var f=new e;e.prototype=null;e=a.apply(f,d.concat(Pa.call(arguments)));return Object(e)===e?e:f}};g.bind_instance_methods=function(a){for(var b in a)"function"===typeof a[b]&&(a[b]=g.bind(a[b],a))};g.each=function(a,b,c){if(null!==a&&void 0!==a)if(dc&&a.forEach===dc)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e&&!(d in a&&b.call(c,
a[d],d,a)===Cb);d++);else for(d in a)if(gb.call(a,d)&&b.call(c,a[d],d,a)===Cb)break};g.escapeHTML=function(a){a&&g.isString(a)&&(a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"));return a};g.extend=function(a){g.each(Pa.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])});return a};g.isArray=Wc||function(a){return"[object Array]"===ab.call(a)};g.isFunction=function(a){try{return/^\s*\bfunction\b/.test(a)}catch(b){return!1}};
g.isArguments=function(a){return!(!a||!gb.call(a,"callee"))};g.toArray=function(a){return a?a.toArray?a.toArray():g.isArray(a)||g.isArguments(a)?Pa.call(a):g.values(a):[]};g.keys=function(a){var b=[];if(null===a)return b;g.each(a,function(c,d){b[b.length]=d});return b};g.values=function(a){var b=[];if(null===a)return b;g.each(a,function(c){b[b.length]=c});return b};g.identity=function(a){return a};g.include=function(a,b){var c=!1;if(null===a)return c;if(ec&&a.indexOf===ec)return-1!=a.indexOf(b);g.each(a,
function(d){if(c||(c=d===b))return Cb});return c};g.includes=function(a,b){return-1!==a.indexOf(b)};g.inherit=function(a,b){a.prototype=new b;a.prototype.constructor=a;a.superclass=b.prototype;return a};g.isObject=function(a){return a===Object(a)&&!g.isArray(a)};g.isEmptyObject=function(a){if(g.isObject(a)){for(var b in a)if(gb.call(a,b))return!1;return!0}return!1};g.isUndefined=function(a){return void 0===a};g.isString=function(a){return"[object String]"==ab.call(a)};g.isDate=function(a){return"[object Date]"==
ab.call(a)};g.isNumber=function(a){return"[object Number]"==ab.call(a)};g.isElement=function(a){return!(!a||1!==a.nodeType)};g.filter=function(a,b){var c=[];g.each(a,function(d){b(d)&&c.push(d)});return c};g.encodeDates=function(a){g.each(a,function(b,c){g.isDate(b)?a[c]=g.formatDate(b):g.isObject(b)&&(a[c]=g.encodeDates(b))});return a};g.timestamp=function(){Date.now=Date.now||function(){return+new Date};return Date.now()};g.formatDate=function(a){function b(c){return 10>c?"0"+c:c}return a.getUTCFullYear()+
"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())};g.safewrap=function(a){return function(){try{return a.apply(this,arguments)}catch(b){y.critical("Implementation error. Please turn on debug and contact support@freshpaint.io."),za&&y.critical(b)}}};g.safewrap_class=function(a,b){for(var c=0;c<b.length;c++)a.prototype[b[c]]=g.safewrap(a.prototype[b[c]])};g.safewrap_instance_methods=function(a){for(var b in a)"function"===typeof a[b]&&
(a[b]=g.safewrap(a[b]))};g.strip_empty_properties=function(a){var b={};g.each(a,function(c,d){g.isString(c)&&0<c.length&&(b[d]=c)});return b};g.truncate=function(a,b){if("string"===typeof a)var c=a.slice(0,b);else g.isArray(a)?(c=[],g.each(a,function(d){c.push(g.truncate(d,b))})):g.isObject(a)?(c={},g.each(a,function(d,e){var f=b;"$ttclid"===e&&(f=1E3);c[e]=g.truncate(d,f)})):c=a;return c};g.JSONEncode=function(){return function(a){var b=function(d){var e=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.lastIndex=0;return e.test(d)?'"'+d.replace(e,function(h){var k=f[h];return"string"===typeof k?k:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'},c=function(d,e){var f="";var h="";var k=f;(e=e[d])&&"object"===typeof e&&"function"===typeof e.toJSON&&(e=e.toJSON(d));switch(typeof e){case "string":return b(e);case "number":return isFinite(e)?String(e):"null";case "boolean":case "null":return String(e);
case "object":if(!e)return"null";f+="    ";d=[];if("[object Array]"===ab.apply(e)){var m=e.length;for(h=0;h<m;h+=1)d[h]=c(h,e)||"null";return m=0===d.length?"[]":f?"[\n"+f+d.join(",\n"+f)+"\n"+k+"]":"["+d.join(",")+"]"}for(h in e)gb.call(e,h)&&(m=c(h,e))&&d.push(b(h)+(f?": ":":")+m);return m=0===d.length?"{}":f?"{"+d.join(",")+k+"}":"{"+d.join(",")+"}"}};return c("",{"":a})}}();g.JSONDecode=function(){var a,b,c={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},d,e=function(q){q=new SyntaxError(q);
q.at=a;q.text=d;throw q;},f=function(q){q&&q!==b&&e("Expected '"+q+"' instead of '"+b+"'");b=d.charAt(a);a+=1;return b},h=function(){var q="";"-"===b&&(q="-",f("-"));for(;"0"<=b&&"9">=b;)q+=b,f();if("."===b)for(q+=".";f()&&"0"<=b&&"9">=b;)q+=b;if("e"===b||"E"===b){q+=b;f();if("-"===b||"+"===b)q+=b,f();for(;"0"<=b&&"9">=b;)q+=b,f()}q=+q;if(isFinite(q))return q;e("Bad number")},k=function(){var q,A="",G;if('"'===b)for(;f();){if('"'===b)return f(),A;if("\\"===b)if(f(),"u"===b){for(q=G=0;4>q;q+=1){var B=
parseInt(f(),16);if(!isFinite(B))break;G=16*G+B}A+=String.fromCharCode(G)}else if("string"===typeof c[b])A+=c[b];else break;else A+=b}e("Bad string")},m=function(){for(;b&&" ">=b;)f()},r=function(){switch(b){case "t":return f("t"),f("r"),f("u"),f("e"),!0;case "f":return f("f"),f("a"),f("l"),f("s"),f("e"),!1;case "n":return f("n"),f("u"),f("l"),f("l"),null}e('Unexpected "'+b+'"')};var v=function(){m();switch(b){case "{":a:{var q={};if("{"===b){f("{");m();if("}"===b){f("}");var A=q;break a}for(;b;){A=
k();m();f(":");Object.hasOwnProperty.call(q,A)&&e('Duplicate key "'+A+'"');q[A]=v();m();if("}"===b){f("}");A=q;break a}f(",");m()}}e("Bad object");A=void 0}return A;case "[":a:{A=[];if("["===b){f("[");m();if("]"===b){f("]");break a}for(;b;){A.push(v());m();if("]"===b){f("]");break a}f(",");m()}}e("Bad array");A=void 0}return A;case '"':return k();case "-":return h();default:return"0"<=b&&"9">=b?h():r()}};return function(q){d=q;a=0;b=" ";q=v();m();b&&e("Syntax error");return q}}();g.base64Encode=function(a){var b=
0,c=0,d=[];if(!a)return a;a=g.utf8Encode(a);do{var e=a.charCodeAt(b++);var f=a.charCodeAt(b++);var h=a.charCodeAt(b++);var k=e<<16|f<<8|h;e=k>>18&63;f=k>>12&63;h=k>>6&63;k&=63;d[c++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)}while(b<
a.length);b=d.join("");switch(a.length%3){case 1:b=b.slice(0,-2)+"==";break;case 2:b=b.slice(0,-1)+"="}return b};g.utf8Encode=function(a){a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var b="",c,d;var e=c=0;var f=a.length;for(d=0;d<f;d++){var h=a.charCodeAt(d),k=null;128>h?c++:k=127<h&&2048>h?String.fromCharCode(h>>6|192,h&63|128):String.fromCharCode(h>>12|224,h>>6&63|128,h&63|128);null!==k&&(c>e&&(b+=a.substring(e,c)),b+=k,e=c=d+1)}c>e&&(b+=a.substring(e,a.length));return b};g.UUID=function(){var a=
function(){for(var c=1*new Date,d=0;c==1*new Date;)d++;return c.toString(16)+d.toString(16)},b=function(){function c(k,m){var r,v=0;for(r=0;r<m.length;r++)v|=e[r]<<8*r;return k^v}var d,e=[],f=0;for(d=0;d<ca.length;d++){var h=ca.charCodeAt(d);e.unshift(h&255);4<=e.length&&(f=c(f,e),e=[])}0<e.length&&(f=c(f,e));return f.toString(16)};return function(){var c=(hb.height*hb.width).toString(16);return a()+"-"+Math.random().toString(16).replace(".","")+"-"+b()+"-"+c+"-"+a()}}();g.isBlockedUA=function(a){return/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(a)?
!0:!1};g.HTTPBuildQuery=function(a,b){var c,d,e=[];g.isUndefined(b)&&(b="&");g.each(a,function(f,h){c=encodeURIComponent(f.toString());d=encodeURIComponent(h);e[e.length]=d+"="+c});return e.join(b)};g.getQueryParam=function(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+b+"=([^&#]*)")).exec(a);return null===a||a&&"string"!==typeof a[1]&&a[1].length?"":decodeURIComponent(a[1]).replace(/\+/g," ")};g.getHashParam=function(a,b){return(a=a.match(new RegExp(b+"=([^&]*)")))?
a[1]:null};g.cloneObject=function(a){if(null===a||"object"!==typeof a)return a;if(g.isArray(a)){var b=[];a.forEach(function(e){b.push(g.cloneObject(e))});return b}var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=g.cloneObject(a[d]));return c};g.lookupIterator=function(a){return g.isFunction(a)?a:function(b){return b[a]}};g.pluck=function(a,b){return g.map(a,function(c){return c[b]})};g.map=g.collect=function(a,b,c){var d=[];if(null==a)return d;if(cc&&a.map===cc)return a.map(b,c);g.each(a,function(e,
f,h){d.push(b.call(c,e,f,h))});return d};g.sortBy=function(a,b,c){var d=g.lookupIterator(b);return g.pluck(g.map(a,function(e,f,h){return{value:e,index:f,criteria:d.call(c,e,f,h)}}).sort(function(e,f){var h=e.criteria,k=f.criteria;if(h!==k){if(h>k||void 0===h)return 1;if(h<k||void 0===k)return-1}return e.index-f.index}),"value")};g.cookie={get:function(a){a+="=";for(var b=K.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return decodeURIComponent(d.substring(a.length,
d.length))}return null},parse:function(a){try{var b=g.JSONDecode(g.cookie.get(a))||{}}catch(c){}return b},set_seconds:function(a,b,c,d,e){var f="",h="",k="";d&&(f=(f=(f=K.location.hostname.match(fc))?f[0]:"")?"; domain=."+f:"");c&&(h=new Date,h.setTime(h.getTime()+1E3*c),h="; expires="+h.toGMTString());e&&(k="; secure");K.cookie=a+"="+encodeURIComponent(b)+h+"; path=/"+f+k},set:function(a,b,c,d,e){var f="",h="",k="";d&&(f=(f=(f=K.location.hostname.match(fc))?f[0]:"")?"; domain=."+f:"");c&&(h=new Date,
h.setTime(h.getTime()+864E5*c),h="; expires="+h.toGMTString());e&&(k="; secure");a=a+"="+encodeURIComponent(b)+h+"; path=/"+f+k;return K.cookie=a},remove:function(a,b){g.cookie.set(a,"",-1,b)}};var Eb=null;g.localStorage={is_supported:function(){if(null!==Eb)return Eb;var a=!0;try{g.localStorage.set("__mplssupport__","xyz"),"xyz"!==g.localStorage.get("__mplssupport__")&&(a=!1),g.localStorage.remove("__mplssupport__")}catch(b){a=!1}a||y.error("localStorage unsupported; falling back to cookie store");
return Eb=a},length:function(){return window.localStorage.length},key:function(a){try{return window.localStorage.key(a)}catch(b){g.localStorage.error(b)}},error:function(a){y.error("localStorage error: "+a)},get:function(a){try{return window.localStorage.getItem(a)}catch(b){g.localStorage.error(b)}return null},parse:function(a){try{return g.JSONDecode(g.localStorage.get(a))||{}}catch(b){}return null},set:function(a,b){try{window.localStorage.setItem(a,b)}catch(c){g.localStorage.error(c)}},remove:function(a){try{window.localStorage.removeItem(a)}catch(b){g.localStorage.error(b)}}};
g.register_event=function(){function a(c,d,e){return function(f){if(f=f||b(window.event)){var h=!0,k;g.isFunction(e)&&(k=e(f));f=d.call(c,f);if(!1===k||!1===f)h=!1;return h}}}function b(c){c&&(c.preventDefault=b.preventDefault,c.stopPropagation=b.stopPropagation);return c}b.preventDefault=function(){this.returnValue=!1};b.stopPropagation=function(){this.cancelBubble=!0};return function(c,d,e,f,h){c?c.addEventListener&&!f?c.addEventListener(d,e,!!h):(d="on"+d,c[d]=a(c,e,c[d])):y.error("No valid element provided to register_event")}}();
var Xc=/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/;g.dom_query=function(){function a(e){return e.all?e.all:e.getElementsByTagName("*")}function b(e,f){f=" "+f+" ";return 0<=(" "+e.className+" ").replace(d," ").indexOf(f)}function c(e){if(!K.getElementsByTagName)return[];e=e.split(" ");var f,h,k,m,r=[K];for(h=0;h<e.length;h++){var v=e[h].replace(/^\s+/,"").replace(/\s+$/,"");if(-1<v.indexOf("#")){var q=v.split("#");v=q[0];r=K.getElementById(q[1]);if(!r||v&&r.nodeName.toLowerCase()!=v)return[];
r=[r]}else if(-1<v.indexOf(".")){q=v.split(".");v=q[0];var A=q[1];v||(v="*");q=[];for(k=f=0;k<r.length;k++){var G="*"==v?a(r[k]):r[k].getElementsByTagName(v);for(m=0;m<G.length;m++)q[f++]=G[m]}r=[];for(k=v=0;k<q.length;k++)q[k].className&&g.isString(q[k].className)&&b(q[k],A)&&(r[v++]=q[k])}else if(q=v.match(Xc)){v=q[1];var B=q[2];A=q[3];var J=q[4];v||(v="*");q=[];for(k=f=0;k<r.length;k++)for(G="*"==v?a(r[k]):r[k].getElementsByTagName(v),m=0;m<G.length;m++)q[f++]=G[m];r=[];v=0;switch(A){case "=":A=
function(x){return x.getAttribute(B)==J};break;case "~":A=function(x){return x.getAttribute(B).match(new RegExp("\\b"+J+"\\b"))};break;case "|":A=function(x){return x.getAttribute(B).match(new RegExp("^"+J+"-?"))};break;case "^":A=function(x){return 0===x.getAttribute(B).indexOf(J)};break;case "$":A=function(x){return x.getAttribute(B).lastIndexOf(J)==x.getAttribute(B).length-J.length};break;case "*":A=function(x){return-1<x.getAttribute(B).indexOf(J)};break;default:A=function(x){return x.getAttribute(B)}}r=
[];for(k=v=0;k<q.length;k++)A(q[k])&&(r[v++]=q[k])}else{q=[];for(k=f=0;k<r.length;k++)for(G=r[k].getElementsByTagName(v),m=0;m<G.length;m++)q[f++]=G[m];r=q}}return r}var d=/[\t\r\n]/g;return function(e){return g.isElement(e)?[e]:g.isObject(e)&&!g.isUndefined(e.length)?e:c.call(this,e)}}();g.info={campaign_keywords:["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],campaignParams:function(){var a="",b={};g.each(this.campaign_keywords,function(c){a=g.getQueryParam(K.URL,c);a.length&&
(b[c]=a)});return b},ad_ids:"gclid dclid gclsrc wbraid gbraid twclid clid_src msclkid fbclid ttclid sapid ttdimp irclickid cntr_auctionId li_fat_id rdt_cid epik".split(" "),advertisingParams:function(){var a="",b={};g.each(this.ad_ids,function(c){a=g.getQueryParam(K.URL,c);a.length&&(b["$"+c]=a,"fbclid"===c&&(b.$fbclid_creation_time=Date.now()))});return b},searchEngine:function(a){return 0===a.search("https?://(.*)google.([^/?]*)")?"google":0===a.search("https?://(.*)bing.com")?"bing":0===a.search("https?://(.*)yahoo.com")?
"yahoo":0===a.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(a){var b=g.info.searchEngine(a),c={};null!==b&&(c.$search_engine=b,a=g.getQueryParam(a,"yahoo"!=b?"q":"p"),a.length&&(c.mp_keyword=a));return c},browser:function(a,b,c){b=b||"";return c||g.includes(a," OPR/")?g.includes(a,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":g.includes(a,"IEMobile")||g.includes(a,"WPDesktop")?"Internet Explorer Mobile":g.includes(a,"Edge")?"Microsoft Edge":
g.includes(a,"FBIOS")?"Facebook Mobile":g.includes(a,"Chrome")?"Chrome":g.includes(a,"CriOS")?"Chrome iOS":g.includes(a,"UCWEB")||g.includes(a,"UCBrowser")?"UC Browser":g.includes(a,"FxiOS")?"Firefox iOS":g.includes(b,"Apple")?g.includes(a,"Mobile")?"Mobile Safari":"Safari":g.includes(a,"Android")?"Android Mobile":g.includes(a,"Konqueror")?"Konqueror":g.includes(a,"Firefox")?"Firefox":g.includes(a,"MSIE")||g.includes(a,"Trident/")?"Internet Explorer":g.includes(a,"Gecko")?"Mozilla":""},browserVersion:function(a,
b,c){b={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,
"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[g.info.browser(a,b,c)];return void 0===b?null:(a=a.match(b))?parseFloat(a[a.length-2]):null},os:function(){return/Windows/i.test(ca)?/Phone/.test(ca)||/WPDesktop/.test(ca)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(ca)?"iOS":/Android/.test(ca)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(ca)?"BlackBerry":/Mac/i.test(ca)?"Mac OS X":/Linux/.test(ca)?"Linux":/CrOS/.test(ca)?"Chrome OS":""},device:function(a){return/Windows Phone/i.test(a)||
/WPDesktop/.test(a)?"Windows Phone":/iPad/.test(a)?"iPad":/iPod/.test(a)?"iPod Touch":/iPhone/.test(a)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":/Android/.test(a)?"Android":""},referringDomain:function(a){a=a.split("/");return 3<=a.length?a[2]:""},properties:function(){return g.extend(g.strip_empty_properties({$os:g.info.os(),$browser:g.info.browser(ca,Ga.vendor,bb),$referrer:K.referrer,$referring_domain:g.info.referringDomain(K.referrer),$device:g.info.device(ca),$title:K.title}),
{$host:window.location.host,$pathname:P.location.pathname,$current_url:P.location.href,$browser_version:g.info.browserVersion(ca,Ga.vendor,bb),$screen_height:hb.height,$screen_width:hb.width,mp_lib:"web",$device_type:Vc,$lib_version:"1.3.0",$user_agent:ca,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),time:g.timestamp()/1E3})},people_properties:function(){return g.extend(g.strip_empty_properties({$os:g.info.os(),$browser:g.info.browser(ca,Ga.vendor,
bb)}),{$browser_version:g.info.browserVersion(ca,Ga.vendor,bb)})},pageviewInfo:function(a){return g.strip_empty_properties({mp_page:a,mp_referrer:K.referrer,mp_browser:g.info.browser(ca,Ga.vendor,bb),mp_platform:g.info.os()})}};g.jqLookup=function(a,b){b=b.split(".");for(var c=1;c<b.length&&(a=a[b[c]],void 0!==a);c++);return a};g.getScrollPercent=function(){return((window.scrollY||window.pageYOffset||K.body.scrollTop||K.documentElement.scrollTop||0)+(window.innerHeight||K.documentElement.clientHeight||
K.body.clientHeight||0))/Math.max(K.body.scrollHeight||0,K.documentElement.scrollHeight||0,K.body.offsetHeight||0,K.documentElement.offsetHeight||0,K.body.clientHeight||0,K.documentElement.clientHeight||0)*100};g.isAsyncAwaitSupported=function(){try{return new Function("async function test() {await Promise.resolve()}"),!0}catch(a){return!1}};g.toArray=g.toArray;g.isObject=g.isObject;g.JSONEncode=g.JSONEncode;g.JSONDecode=g.JSONDecode;g.isBlockedUA=g.isBlockedUA;g.isEmptyObject=g.isEmptyObject;g.info=
g.info;g.info.device=g.info.device;g.info.browser=g.info.browser;g.info.properties=g.info.properties;var Yc=function(){var a=this;this._callback=function(b,c){a._callbacks.forEach(function(d){d(b,c)})};this.register=function(b){a._callbacks.push(b)};this._callbacks=[];this._youtube=new Aa;this._youtube.register(this._callback)},Aa=function(){this._milestones=[10,25,50,75];this._callbacks=[];this._isInitialized=!1};Aa.prototype._init=function(){this._isInitialized||(this._waitForYouTubeAPI(),this._isInitialized=
!0)};Aa.prototype.register=function(a){this._init();this._callbacks.push(a)};Aa.prototype._waitForYouTubeAPI=function(){var a=this;"undefined"!==typeof YT&&YT&&YT.Player?(this.monitorForNewVideos(),this.scanForVideos()):setTimeout(function(){return a._waitForYouTubeAPI()},1E3)};Aa.prototype._dispatchEvent=function(a,b,c){var d=b.playerInfo.currentTime,e=b.playerInfo.duration,f={$video_event_type:a,video_provider:"youtube",video_title:b.videoTitle,video_duration:Math.round(e),video_percent:Math.round(d/
e*100),video_current_time:Math.round(d),video_url:b.getVideoUrl()};Object.assign(f,c);this._callbacks.forEach(function(h){h(a,f)})};Aa.prototype.addEventsToVideoPlayer=function(a){var b=this,c=YT.get(a.id);if(c){var d=this._milestones.slice();setInterval(function(){for(var f=c.playerInfo.currentTime/c.playerInfo.duration*100,h=d.length-1;0<=h;h--)if(f>=d[h]){b._dispatchEvent("video_progress",c,{visible:ob(a),video_percent:d[h]});d.splice(0,h+1);break}},1E3);var e=!1;c.addEventListener("onStateChange",
function(f){if(f.data===YT.PlayerState.PLAYING){if(e)return;e=!0;d=b._milestones.slice();b._dispatchEvent("video_start",c,{visible:ob(a)})}f.data===YT.PlayerState.ENDED&&(e=!1,b._dispatchEvent("video_complete",c,{visible:ob(a)}))})}};Aa.prototype.scanForVideos=function(){for(var a=document.querySelectorAll("iframe"),b=0;b<a.length;b++){var c=a[b];c.src.includes("https://www.youtube.com")&&this.addEventsToVideoPlayer(c)}};Aa.prototype.monitorForNewVideos=function(){var a=this;(new MutationObserver(function(b){b.forEach(function(c){if(c.addedNodes)for(var d=
0;d<c.addedNodes.length;d++){var e=c.addedNodes[d];e instanceof HTMLIFrameElement&&e.src.includes("https://www.youtube.com")&&a.addEventsToVideoPlayer(e)}})})).observe(document.body,{childList:!0,subtree:!0})};var pa={_initializedTokens:[],_previousElementSibling:function(a){if(a.previousElementSibling)return a.previousElementSibling;do a=a.previousSibling;while(a&&(!a||1!==a.nodeType));return a},_loadScript:function(a,b){var c=document.createElement("script");c.type="text/javascript";c.src=a;c.onload=
b;a=document.getElementsByTagName("script");0<a.length?a[0].parentNode.insertBefore(c,a[0]):document.body.appendChild(c)},_getPropertiesFromElement:function(a,b){var c="";"object"!==typeof b.id&&"function"!==typeof b.id&&(c=b.id);var d={attr__class:qa(b),tag_name:b.tagName.toLowerCase(),attr__id:c};"5a690268-f2da-4301-ab9f-c8f5284ba3f2"===a.get_config("token")&&b.attributes["data-testid"]&&(d["attr__data-testid"]=b.attributes["data-testid"].value);({"108c1db4-c74b-45bc-91f7-b8421bce7a07":!0,"10990a3d-da0b-4f29-a2cd-2d6861767cc6":!0,
"15d95e6b-60d2-4203-80f2-42131397de15":!0,"18505fed-178a-4a94-b97c-eeeed7bc80a4":!0,"258da091-52c6-4a05-a332-5e6607df42cb":!0,"29563612-1f51-4f19-8bd4-b0ff10423c19":!0,"3e5f0bb6-2970-4de0-b9cc-79735040dfc5":!0,"5a16aa72-fb64-4006-a3be-7cce5aefc69a":!0,"6396e738-10fe-4c36-9278-7beb15d03984":!0,"6cdf86ab-e124-4479-9b25-d37fafbfe3df":!0,"82260f08-cd00-4476-ba6f-023dfa05df7d":!0,"b24263ba-9733-456e-b763-6c8e9ef08218":!0,"cbf6d4a6-145b-4dc4-8ac1-9f72e4f6290d":!0,"ce231951-67be-4d6d-819c-fb97a5709bb4":!0,
"e9932d9e-008d-42eb-aaf1-abc5e0e33a70":!0,"f67b439d-60b9-433f-9837-5bab2d0621bb":!0,"00000000-1234-1234-1234-000000000000":!0})[a.get_config("token")]&&b.attributes["data-inputid"]&&(d["attr__data-inputid"]=b.attributes["data-inputid"].value);try{Hb(b)&&g.each(b.attributes,function(h){void 0===a._elementAttributesWhitelist?y.error("Error: _elementAttributesWhitelist not set - check snippet load configuration."):a._elementAttributesWhitelist[h.name]&&Sa(h.value)&&(d["attr__"+h.name]=h.value)})}catch(h){y.error("Error collecting attributes. Continuing anyway.",
h)}for(var e=c=1,f=b;f=this._previousElementSibling(f);)c++,f.tagName===b.tagName&&e++;d.nth_child=c;d.nth_of_type=e;return d},_getDefaultProperties:function(a){return{$event_type:a,$ce_version:1}},_extractCustomPropertyValue:function(a){var b=[];g.each(document.querySelectorAll(a.value),function(c){var d;-1<["input","select"].indexOf(c.tagName.toLowerCase())?d="checkbox"===c.getAttribute("type")?c.checked:c.value:c.textContent&&(d=c.textContent);Sa(d)&&b.push(d)});return b.join(", ")},_getCustomProperties:function(a){var b=
{};g.each(this._customProperties,function(c){g.each(c.event_selectors,function(d){d=document.querySelectorAll(d);g.each(d,function(e){g.includes(a,e)&&Ra(e)&&(b[c.name]=this._extractCustomPropertyValue(c))},this)},this)},this);return b},_getEventTarget:function(a){return a.composedPath&&"function"===typeof a.composedPath?a.composedPath()[0]:"undefined"===typeof a.target?a.srcElement:a.target},_trackEvent:function(a,b){var c=this._getEventTarget(a);c&&3===c.nodeType&&(c=c.parentNode);if(qc(c,a)){var d=
rc(c),e=[],f,h=!1;g.each(d,function(v){var q=Ra(v);Ba(v,"a")&&(f=v.getAttribute("href"),f=q&&Sa(f)&&f);q=qa(v).split(" ");g.includes(q,"fp-no-track")&&(h=!0);e.push(this._getPropertiesFromElement(b,v))},this);if(h)return!1;var k,m=mc(c);m&&m.length&&!b.get_config("disable_target_text_capture")&&(k=m);var r;(c=nc(c))&&c.length&&!b.get_config("disable_target_text_capture")&&(r=c);d=g.extend({},this._getDefaultProperties(a.type),{$elements:e,$el_attr__href:f,$el_text:k,$el_nested_text:r},this._getCustomProperties(d));
b._processEvent("$web_event",a,{},d);return!0}},_navigate:function(a){window.location.href=a},_interceptFunction:function(a,b,c){var d=a[b];a[b]=function(){var e=d.apply(a,arguments);c();return e}},_addNetworkEventHandlers:function(a){function b(d){d=d.split("\r\n");""===d[d.length-1]&&d.pop();var e={};d.forEach(function(f){var h=f.indexOf(":");if(-1!==h){var k=f.slice(h+1).trim();""!==k&&(f=f.slice(0,h),e[f]=k)}});return e}if(!a._networkCaptureInitialized){a._networkCaptureInitialized=!0;var c=new WeakMap;
(function(d){var e=this,f=XMLHttpRequest.prototype.open,h=XMLHttpRequest.prototype.send,k=XMLHttpRequest.prototype.setRequestHeader;-1!==f.toString().indexOf("native code")&&(XMLHttpRequest.prototype.open=function(){d.onOpen&&d.onOpen(this,a,arguments);d.onLoad&&this.addEventListener("load",d.onLoad.bind(d));d.onError&&this.addEventListener("error",d.onError.bind(d));return f.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){d.onSend&&d.onSend(this,arguments);return h.apply(this,arguments)},
XMLHttpRequest.prototype.setRequestHeader=function(){d.onSetRequestHeader&&d.onSetRequestHeader(this,arguments);return k.apply(this,arguments)});if(-1!==(window.fetch||"").toString().indexOf("native code")){var m=window.fetch;window.fetch=function(r){for(var v=[],q=0;q<arguments.length;++q)v[q-0]=arguments[q];var A,G,B,J,x,Q,S,na,ba,U,M,ha,da,ia,ua,fa,Xa,oa,ya,Ka,eb,Ya,La,Za,ra,$a,Ma,F,ta,Z,sa,Da,Na,Ea,t,z,w,D,C,N;return $jscomp.asyncExecutePromiseGeneratorProgram(function(p){switch(p.nextAddress){case 1:A=
$jscomp.makeIterator(v);G=A.next().value;B=A.next().value;J=G instanceof Request?G.url:G;pa._inBlockList(a,J)?x=!0:(Q=a._allowList.filter(function(H){return H.isApplicableTo(J)}),x=0===Q.length);if(!x){p.jumpTo(2);break}return p.yield(m(G,B),3);case 3:return p.return(p.yieldResult);case 2:if(G instanceof Request)try{S=G.clone()}catch(H){y.error("Error cloning resource: "+H)}return p.yield(m(G,B),4);case 4:na=p.yieldResult;p.setCatchFinallyBlocks(5,6);U={};S?(ba=B&&B.method?B.method:S.method,B&&B.headers?
U=B.headers:S.headers&&(U=S.headers)):(ba=B.method,B.headers&&(U=B.headers));if(U instanceof Headers){M={};ha=U.keys();for(da=ha.next();da.value;)M[da.value.toLowerCase()]=U.get(da.value),da=ha.next();U=M}else{ia={};for(ua in U)ia[ua.toLowerCase()]=U[ua];U=ia}if("application/json"===U["content-type"]){if(!(G instanceof Request&&G.body)){fa={};try{fa=JSON.parse(B.body)}catch(H){y.error("Error parsing request JSON: "+H)}p.jumpTo(9);break}return p.yield(S.json(),22)}if("multipart/form-data"===U["content-type"]){fa=
{};if(!(G instanceof Request&&S.body)){Xa=B.body;p.jumpTo(19);break}return p.yield(S.formData(),20)}if(U["content-type"]&&U["content-type"].startsWith("application/x-www-form-urlencoded")){if(!(G instanceof Request&&S.body)){fa={};try{fa=e._parserForUrlencoded(B.body)}catch(H){y.error("Error parsing Urlencoded body: "+H)}p.jumpTo(9);break}return p.yield(S.urlencoded(),18)}if("text/plain"!==U["content-type"]){fa="";p.jumpTo(9);break}if(!(G instanceof Request&&S.body)){fa=B.body||"";p.jumpTo(9);break}return p.yield(S.text(),
16);case 16:fa=p.yieldResult;p.jumpTo(9);break;case 18:fa=p.yieldResult;p.jumpTo(9);break;case 20:Xa=p.yieldResult;case 19:oa={};ya=$jscomp.makeIterator(Xa.entries());for(Ka=ya.next();!Ka.done;Ka=ya.next())eb=Ka.value,Ya=$jscomp.makeIterator(eb),La=Ya.next().value,Za=Ya.next().value,oa[La]=Za;fa=oa;p.jumpTo(9);break;case 22:fa=p.yieldResult;case 9:ra={};$a=$jscomp.makeIterator(na.headers.entries());for(Ma=$a.next();!Ma.done;Ma=$a.next())F=Ma.value,ra[F[0].toLowerCase()]=F[1];Z=na.clone();if("application/json"===
ra["content-type"])return p.yield(Z.json(),30);if(ra["content-type"]&&ra["content-type"].startsWith("application/x-www-form-urlencoded"))return p.yield(Z.formData(),29);if("text/plain"!==ra["content-type"]){ta="";p.jumpTo(24);break}return p.yield(Z.text(),28);case 28:ta=p.yieldResult;p.jumpTo(24);break;case 29:sa=p.yieldResult;Da={};Na=$jscomp.makeIterator(sa.entries());for(Ea=Na.next();!Ea.done;Ea=Na.next())t=Ea.value,z=$jscomp.makeIterator(t),w=z.next().value,D=z.next().value,Da[w]=D;ta=Da;p.jumpTo(24);
break;case 30:ta=p.yieldResult;case 24:C={},C.applicableAllowFilters=Q,C.request={},C.request.method=ba,C.request.url=J,C.request.headers=U,C.request.body=fa,C.response={},C.response.headers=ra,C.response.status=na.status,C.response.responseUrl=na.url,C.response.body=ta,setTimeout(function(){pa._processNetworkTraceObj(a,C)},10);case 6:return p.enterFinallyBlock(),p.return(na);case 5:N=p.enterCatchBlock(),y.error("Error processing intercepted fetch: "+N),p.jumpTo(6)}})}}return d})({onOpen:function(d,
e,f){var h=f[1],k=pa._inBlockList(e,h),m=[],r=void 0;k||(m=e._allowList.filter(function(v){return v.isApplicableTo(h)}),0<m.length&&(r=f));d.id=d.id||Math.random();c[d.id]={open:r,blocked:k,applicableAllowFilters:m}},onSend:function(d,e){void 0!==d.id&&(d=c[d.id],d.blocked||0===d.applicableAllowFilters.length||(d.send=e))},onLoad:function(d,e){if(void 0!==d.currentTarget.id){var f=c[d.currentTarget.id];try{if(!f.blocked&&0!==f.applicableAllowFilters.length)if((!d.lengthComputable||d.lengthComputable&&
d.loaded===d.total)&&4===d.srcElement.readyState){var h=d.srcElement;f.load={status:h.status,responseUrl:h.responseUrl,responseType:h.responseType,response:h.response,responseHeaders:b(h.getAllResponseHeaders())};void 0===f.requestHeaders&&(f.requestHeaders={});this.processTrace(a,f)}else y.log(d),y.log(e)}finally{c.delete(d.currentTarget.id)}}},onSetRequestHeader:function(d,e){try{var f=c[d.id];if(!f.blocked&&0!==f.applicableAllowFilters.length){var h=e[0],k=e[1].split(",").map(function(v){return v.trim()}),
m=f.requestHeaders||{},r=m[h]||[];r.push.apply(r,$jscomp.arrayFromIterable(k));m[h]=r;f.requestHeaders=m}}catch(v){y.log("header not formatted as expected",v)}},processTrace:this._processXHRNetworkRequestTrace.bind(this)})}},_inBlockList:function(a,b){return void 0===a.get_config?!0:b.startsWith(a.get_config("api_host"))||b.startsWith(a.get_config("app_host"))},_parseQueryStrings:function(a){var b=a.indexOf("?");if(-1!==b)return a=a.slice(b+1),this._parserForUrlencoded(a)},_parserForUrlencoded:function(a){var b=
{},c={};a.split("&").forEach(function(d){var e=d.split("=");d=e[1];try{var f=decodeURIComponent(e[1]);d=JSON.parse(f)}catch(h){}f=decodeURIComponent(e[0]);b[f]?f in c?(e=b[f],e.push(d),b[f]=e):b[f]=[d]:(b[f]=d,c[f]=!0)});return b},_createNetworkTraceObjectFromXHR:function(a){var b={};b.applicableAllowFilters=a.applicableAllowFilters;var c=a.load.responseType;b.request={headers:a.requestHeaders||{},url:a.open[1],method:a.open[0],body:a.send[1],responseType:c};b.response={headers:a.load.responseHeaders||
{},body:a.load.response,status:a.load.status};a.load.responseUrl&&(b.response.responseUrl=a.load.responseUrl);if(!c){b.request.responseType="text";try{var d=JSON.parse(a.load.response);b.request.responseType="json";b.response.body=d}catch(h){}}if(0<a.send.length){c=JSON.parse;(a.requestHeaders["Content-Type"]||[]).includes("application/x-www-form-urlencoded")&&(c=this._parserForUrlencoded);d=[];for(var e=0;e<a.send.length;e++)if(null!==a.send[e]&&void 0!==a.send[e])try{var f=c(a.send[e]);d.push(f)}catch(h){d.push(a.send[e])}b.request.body=
1===d.length?d[0]:d}return b},_processXHRNetworkRequestTrace:function(a,b){this._processNetworkTraceObj(a,this._createNetworkTraceObjectFromXHR(b))},_processNetworkTraceObj:function(a,b){var c=g.cloneObject(b);b=this._processNetworkTraceObjectAllowList(b);a.get_config("log_network")&&a._add_network_event({allowed:b,raw:c});0!==Object.keys(b).length&&(c=this._processFilteredNetworkTraceObjectProps(a,b),null!==c&&a._processEvent("$web_event",null,{},c))},_processNetworkTraceObjectAllowList:function(a){var b=
a.applicableAllowFilters;if(0===b.length)a={};else for(var c in b)a=b[c].applyAllowList(a);return a},_processFilteredNetworkTraceObjectProps:function(a,b){a={};a.$request_url=b.request.url;a.$request_headers=b.request.headers;a.$request=b.request.body;a.$response_type=b.request.responseType;a.$response_headers=b.response.headers;a.$response=b.response.body;b=this._parseQueryStrings(b.request.url);void 0!==b&&(a.$query_string_params=b);return g.extend({},a,this._getDefaultProperties("network"))},_addDomEventHandlers:function(a){var b=
g.bind(function(e){e=e||window.event;this._trackEvent(e,a)},this);g.register_event(document,"submit",b,!1,!0);g.register_event(document,"change",b,!1,!0);g.register_event(document,"click",b,!1,!0);var c=!1;void 0!==a._enabledEnhancedEvents&&0<=a._enabledEnhancedEvents.indexOf("$scroll")&&(g.register_event(document,"scroll",function(e){!1===c&&90<g.getScrollPercent()&&(a._processEvent("$scroll",e,{},{$percent_scrolled:90}),c=!0)},!1,!0),setTimeout(function(){!1===c&&90<g.getScrollPercent()&&(a._processEvent("$scroll",
null,{},{$percent_scrolled:90,$engagement_time_ms:5}),c=!0)},5E3));void 0!==a._enabledEnhancedEvents&&0<=a._enabledEnhancedEvents.indexOf("$user_engagement")&&g.register_event(window,"visibilitychange",function(e){"hidden"===document.visibilityState&&a._processEvent("$user_engagement",e,{},{})},!1,!0);if(window.history.pushState){var d=this;b=function(){d._prevPageviewPath!==window.location.pathname&&(void 0!==a._enabledEnhancedEvents&&0<=a._enabledEnhancedEvents.indexOf("$user_engagement")&&a._processEvent("$user_engagement",
{},{},{}),c=!1,a._resetEventQueueCounter(),a.triggerCodeEval("onPageChange"),d._triggerPageview(a))};this._interceptFunction(window.history,"pushState",b);this._interceptFunction(window.history,"replaceState",b);window.addEventListener("popstate",b,!0)}},_addUnloadEventListner:function(a){function b(){a.unloaded=!0;var c=(new Date).getTime(),d=Math.min(a.get_config("api_time_out")-(c-a._last_timestamp),a.get_config("unload_wait_time"));if(!(0>=d))for(;a.unloaded&&(new Date).getTime()<c+d;);}document.addEventListener("pagehide",
function(){a.unloaded||b()});document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState?a.unloaded||b():a.unloaded=!1})},_addVideoEngagementListener:function(a){if(void 0!==a._enabledEnhancedEvents&&0<=a._enabledEnhancedEvents.indexOf("$video_engagement"))try{(new Yc).register(function(b,c){try{a._processEvent("$video_engagement",null,{},c)}catch(d){y.error("Error processing video engagement event",d)}})}catch(b){y.error("Error initializing video engagement tracking",
b)}},_customProperties:{},_lastRequestTimestamp:0,_unloaded:!1,init:function(a){var b=this;if(document&&document.body){a.__initialized=!0;var c=a.get_config("token");-1<this._initializedTokens.indexOf(c)?y.log('autotrack already initialized for token "'+c+'"'):(this._initializedTokens.push(c),this._maybeLoadEditor(a)||(a.triggerCodeEval("onPageLoad"),a.triggerCodeEval("onPageChange"),this._triggerPageview(a),this._addDomEventHandlers(a),this._addUnloadEventListner(a),this._addVideoEngagementListener(a),
a._allowList&&0<a._allowList.length&&this._addNetworkEventHandlers(a)))}else y.log("document not ready yet, trying again in 500 milliseconds..."),setTimeout(function(){b.init(a)},500)},_prevPageviewPath:null,_triggerPageview:function(a){this._prevPageviewPath=window.location.pathname;a.register({$pageview_id:g.UUID()});var b=g.extend({},{$title:document.title},this._getDefaultProperties("pageview"));a._processEvent("$web_event",null,{},b)},_editorParamsFromHash:function(a,b){try{var c=g.getHashParam(b,
"fpState");c=JSON.parse(decodeURIComponent(c));var d={temporaryToken:c.temporaryToken,projectToken:c.projectToken};c.userEmail&&(d.userEmail=c.userEmail);window.sessionStorage.setItem("fpEditorParams",JSON.stringify(d));c.desiredHash?window.location.hash=c.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(e){y.error("Unable to parse data from hash",e)}return d},_maybeLoadEditor:function(a){try{var b=!1;
if(g.getHashParam(window.location.hash,"fpState")){var c=g.getHashParam(window.location.hash,"fpState");c=JSON.parse(decodeURIComponent(c));b="fpeditor"===c.action}var d=!!window.sessionStorage.getItem("_fpcehash");if(b)var e=this._editorParamsFromHash(a,window.location.hash);else d?(e=this._editorParamsFromHash(a,window.sessionStorage.getItem("_fpcehash")),window.sessionStorage.removeItem("_fpcehash")):e=JSON.parse(window.sessionStorage.getItem("fpEditorParams")||"{}");return e.projectToken&&a.get_config("token")===
e.projectToken?(this._loadEditor(a,e),!0):!1}catch(f){return!1}},_loadEditor:function(a,b){return window._fpEditorLoaded?!1:(window._fpEditorLoaded=!0,a=window.__FP_EDITOR_PATH__||a.get_config("app_host")+"/static/js/editor.js",this._loadScript(a,function(){window.fp_load_editor(b)}),!0)},enabledForProject:function(a,b,c){b=g.isUndefined(b)?10:b;c=g.isUndefined(c)?10:c;for(var d=0,e=0;e<a.length;e++)d+=a.charCodeAt(e);return d%b<c},isBrowserSupported:function(){return g.isFunction(document.querySelectorAll)}};
g.bind_instance_methods(pa);g.safewrap_instance_methods(pa);var W=function(){};g.extend(W.prototype,{set_action:function(a,b){var c={},d={};g.isObject(a)?g.each(a,function(e,f){this._is_reserved_property(f)||(d[f]=e)},this):d[a]=b;c.$set=d;return c},unset_action:function(a){var b={},c=[];g.isArray(a)||(a=[a]);g.each(a,function(d){this._is_reserved_property(d)||c.push(d)},this);b.$unset=c;return b},set_once_action:function(a,b){var c={},d={};g.isObject(a)?g.each(a,function(e,f){this._is_reserved_property(f)||
(d[f]=e)},this):d[a]=b;c.$set_once=d;return c},union_action:function(a,b){var c={},d={};g.isObject(a)?g.each(a,function(e,f){this._is_reserved_property(f)||(d[f]=g.isArray(e)?e:[e])},this):d[a]=g.isArray(b)?b:[b];c.$union=d;return c},append_action:function(a,b){var c={},d={};g.isObject(a)?g.each(a,function(e,f){this._is_reserved_property(f)||(d[f]=e)},this):d[a]=b;c.$append=d;return c},remove_action:function(a,b){var c={},d={};g.isObject(a)?g.each(a,function(e,f){this._is_reserved_property(f)||(d[f]=
e)},this):d[a]=b;c.$remove=d;return c},delete_action:function(){return{$delete:""}}});W.prototype._init=function(a,b,c){this._freshpaint=a;this._group_key=b;this._group_id=c};W.prototype.set=Ha(function(a,b,c){var d=this.set_action(a,b);g.isObject(a)&&(c=b);return this._send_request(d,c)});W.prototype.set_once=Ha(function(a,b,c){var d=this.set_once_action(a,b);g.isObject(a)&&(c=b);return this._send_request(d,c)});W.prototype.unset=Ha(function(a,b){a=this.unset_action(a);return this._send_request(a,
b)});W.prototype.union=Ha(function(a,b,c){g.isObject(a)&&(c=b);a=this.union_action(a,b);return this._send_request(a,c)});W.prototype["delete"]=Ha(function(a){var b=this.delete_action();return this._send_request(b,a)});W.prototype.remove=Ha(function(a,b,c){a=this.remove_action(a,b);return this._send_request(a,c)});W.prototype._send_request=function(a,b){a.$group_key=this._group_key;a.$group_id=this._group_id;a.$token=this._get_config("token");var c=g.encodeDates(a),d=g.truncate(c,255);c=g.JSONEncode(c);
c=g.base64Encode(c);y.log(a);this._freshpaint._send_request(this._freshpaint.get_config("api_host")+"/groups/",{data:c},this._freshpaint._prepare_callback(b,d));return d};W.prototype._is_reserved_property=function(a){return"$group_key"===a||"$group_id"===a};W.prototype._get_config=function(a){return this._freshpaint.get_config(a)};W.prototype.toString=function(){return this._freshpaint.toString()+".group."+this._group_key+"."+this._group_id};W.prototype.remove=W.prototype.remove;W.prototype.set=W.prototype.set;
W.prototype.set_once=W.prototype.set_once;W.prototype.union=W.prototype.union;W.prototype.unset=W.prototype.unset;W.prototype.toString=W.prototype.toString;var Zc=["scroll","resize","focusin"],$c="wheel keydown keyup mouseup mousedown mousemove touchstart touchmove click contextmenu".split(" "),ad=["blur"],Ta,R={config:{inactiveTimeoutMS:3E4},timeOnPageMS:0,lastEventTimeMS:performance.now(),isTabActive:!1,restart:function(){R.lastEventTimeMS=performance.now();R.timeOnPageMS=0},getEngagementTimeMS:function(){return R.isTabActive?
Math.round(R.timeOnPageMS+Math.min(performance.now()-R.lastEventTimeMS,R.config.inactiveTimeoutMS)):Math.round(R.timeOnPageMS)},getAndRestartEngagementTimeMS:function(){var a=R.getEngagementTimeMS();R.restart();return a},init:function(){var a={passive:!0},b={passive:!0,capture:!0};document.addEventListener("visibilitychange",R.handleVisibilityChange);Zc.forEach(function(c){window.addEventListener(c,R.handleActivityEvent,b)});ad.forEach(function(c){window.addEventListener(c,R.handleInactivityEvent,
b)});$c.forEach(function(c){return document.addEventListener(c,R.handleActivityEvent,a)});R.isTabActive="visible"===document.visibilityState},handleActivityEvent:function(){R.isTabActive&&(R.timeOnPageMS+=Math.min(performance.now()-R.lastEventTimeMS,R.config.inactiveTimeoutMS));R.isTabActive=!0;R.lastEventTimeMS=performance.now()},handleInactivityEvent:function(){R.isTabActive&&(R.timeOnPageMS+=Math.min(performance.now()-R.lastEventTimeMS,R.config.inactiveTimeoutMS));R.isTabActive=!1},handleVisibilityChange:function(){"visible"===
document.visibilityState?R.handleActivityEvent():R.handleInactivityEvent()}};Ia.prototype.isApplicableTo=function(a){return void 0===this.urlRegex||null===this.urlRegex?!1:this.urlRegex&&this.urlRegex.test(a)};Ia.prototype.applyAllowList=function(a){if(void 0===a)return a;for(var b={},c=$jscomp.makeIterator(this.allowedProperties),d=c.next();!d.done;d=c.next())b=Nb(b,rb(a,d.value.split("/")));return b};var sb={Number:"number",Boolean:"boolean",String:"string"};Ua.prototype.shouldApply=function(a,
b,c){return this.set.eventType===c&&(null===this.set.eventDefId||this.set.eventDefId===a)&&(null===this.set.destinationName||this.set.destinationName===b)};Ua.prototype.operandValueString=function(){return null===this.transformation.operandValue||"string"!==typeof this.transformation.operandValue?(y.error("Transformation does not have an operand value"),null):String(this.transformation.operandValue)};Ua.prototype.checkNonNilTargetValue=function(){if(null===this.transformation.targetValue)throw Error("Target value is null");
};Ua.prototype.transform=function(a,b,c){if("replaceName"===this.transformation.operation){c=this.operandValueString();if(null===c)throw Error("Missing operand on ReplaceName transformation");return[c,b]}if("replacePropertyKey"===this.transformation.operation){c=this.operandValueString();if(null===c)throw Error("Missing operand on ReplacePropertyKey transformation");this.checkNonNilTargetValue();b=g.cloneObject(b);b.hasOwnProperty(this.transformation.targetValue)&&(b[c]=b[this.transformation.targetValue],
delete b[this.transformation.targetValue]);return[a,b]}if("castPropertyValue"===this.transformation.operation){c=this.operandValueString();if(null===c)throw Error("Missing operand on CastPropertyValue transformation");this.checkNonNilTargetValue();c=b.hasOwnProperty(this.transformation.targetValue);if(!c)return[a,b];c=Bc(b[this.transformation.targetValue],this.transformation.operandValue);b=g.cloneObject(b);b[this.transformation.targetValue]=c;return[a,b]}if("lowercasePropertyValue"===this.transformation.operation||
"uppercasePropertyValue"===this.transformation.operation){c=b.hasOwnProperty(this.transformation.targetValue);if(!c||"string"!==typeof b[this.transformation.targetValue])return[a,b];b=g.cloneObject(b);b[this.transformation.targetValue]="uppercasePropertyValue"===this.transformation.operation?b[this.transformation.targetValue].toUpperCase():b[this.transformation.targetValue].toLowerCase();return[a,b]}if("deleteProperty"===this.transformation.operation)return b=g.cloneObject(b),b.hasOwnProperty(this.transformation.targetValue)&&
delete b[this.transformation.targetValue],[a,b];if("sendBuiltinProperty"===this.transformation.operation){var d=this.transformation.targetValue,e=this.operandValueString();b=g.cloneObject(b);c="target_text"===d?c.$el_nested_text||c.$el_text:c[d];null!==c&&void 0!==c&&(b[e]=c);return[a,b]}if("sendConstantProperty"===this.transformation.operation){if(this.transformation.targetValue)try{e=JSON.parse(this.transformation.targetValue)}catch(f){return y.error("Unable to parse transformation targetValue - ",
f.message),[a,b]}b=g.cloneObject(b);c=this.operandValueString();b[c]=e;return[a,b]}};ka.prototype.transform=function(a,b,c,d,e,f){var h,k=a?a.name:"",m=a?a.id:null;g.each(this.transformers,function(r){if((!e||"replaceName"!==r.transformation.operation)&&r.shouldApply(m,b,d))try{h=r.transform(k,c,f),k=h[0],c=h[1]}catch(v){y.error(v.message)}});return[k,c]};ka.prototype.getLegacyMapping=function(a){var b=[];g.each(this.transformers,function(c){null!==c.set.destinationName&&c.set.destinationName!==a||
!c.set.eventDefId||"replaceName"===c.transformation.operation&&b.push({destEvent:c.transformation.operandValue,fpEvent:c.set.eventDefId})});return b};ka.prototype.getLegacyMappingToSelf=function(a){var b={};g.each(this.transformers,function(c){null!==c.set.destinationName&&c.set.destinationName!==a||"replaceName"!==c.transformation.operation||(b[c.transformation.operandValue]=c.transformation.operandValue)});return b};ka.nil=new ka([]);ka.fromTransformationSets=function(a){try{for(var b=[],c=[],d=
0;d<a.length;d++)b.push(new Ac(a[d]));for(a=0;a<b.length;a++){var e=b[a];for(d=0;d<e.transformations.length;d++)c.push(new Ua(e.transformations[d],e))}return new ka(c)}catch(f){return y.error("Error creating transformer",f),ka.nil}};var Qb=function(a,b,c,d,e,f){this.name=a;this.id=b;this.filter=c;this.enabledDestinations=d;this.snapshots=e;this.segmentCompatible=f};Qb.prototype.matches=function(a,b){return this.filter.matches(a,b)};var ub=function(a,b,c,d){this.propName=a;this.opName=b;this.val=c;
this.negate=d};ub.prototype.matchesMainFilter=function(a,b){b="."===this.propName[0]?g.jqLookup(b,this.propName):b[this.propName];if("="===this.opName)return b===this.val;if("contains"===this.opName)return b.includes(this.val);if("css_matches"===this.opName)return null!==a.target.closest(this.val);if("wildcard_matches"===this.opName)return RegExp("^"+this.val.split("*").map(Cc).join(".*")+"$").test(b);if("exists"===this.opName)return void 0!==b;if("any_of"===this.opName&&Array.isArray(this.val)){a=
$jscomp.makeIterator(this.val);for(var c=a.next();!c.done;c=a.next())if(c.value===b)return!0}return!1};ub.prototype.matches=function(a,b){a=this.matchesMainFilter(a,b);return this.negate?!a:a};var tb=function(a){this.filters=a};tb.prototype.matches=function(a,b){for(var c=0;c<this.filters.length;c++)if(!this.filters[c].matches(a,b))return!1;return!0};try{Fc()}catch(a){console.log("GOT ERROR WHILE POLYFILLING",a)}var Fb,X,bd="__mps __mpso __mpus __mpa __mpap __mpr __mpu __alias __cmpns __timers __user_props __group_id __group_props __last_event_time __initial_utm_props_set __first_pageview_occurred __first_pageview_in_session_has_occurred __session_count __last_pageview_time __last_pixel_sync".split(" "),
jb=P.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,gc=!jb&&-1===ca.indexOf("MSIE")&&-1===ca.indexOf("Mozilla"),hc={api_host:"https://api.perfalytics.com",app_host:"https://perfalytics.com",impression_pixel_host:"https://freshpaint-impression.com",autotrack:!0,cdn:"https://perfalytics.com",tag_manager:!0,cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:P.__FP_FORCE_DEBUG__||
!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,disable_target_text_capture:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,unload_wait_time:100,api_time_out:5E3,consent_management:{},session_timeout:1800},ic=!1,va=function(){};va.prototype.create_properties=
function(){};va.prototype.event_handler=function(){};va.prototype.after_track_handler=function(){};va.prototype.init=function(a){this.mp=a;return this};va.prototype.track=function(a,b,c,d){var e=this,f=g.dom_query(a);if(0===f.length)y.error("The DOM query ("+a+") returned 0 elements");else return g.each(f,function(h){g.register_event(h,this.override_event,function(k){var m={},r=e.create_properties(c,this),v=e.mp.get_config("track_links_timeout");e.event_handler(k,this,m);P.setTimeout(e.track_callback(d,
r,m,!0),v);e.mp.track(b,r,e.track_callback(d,r,m))})},this),!0};va.prototype.track_callback=function(a,b,c,d){d=d||!1;var e=this;return function(){c.callback_fired||(c.callback_fired=!0,a&&!1===a(d,b)||e.after_track_handler(b,c,d))}};va.prototype.create_properties=function(a,b){return"function"===typeof a?a(b):g.extend({},a)};var Qa=function(){this.override_event="click"};g.inherit(Qa,va);Qa.prototype.create_properties=function(a,b){var c=Qa.superclass.create_properties.apply(this,arguments);b.href&&
(c.url=b.href);return c};Qa.prototype.event_handler=function(a,b,c){c.new_tab=2===a.which||a.metaKey||a.ctrlKey||"_blank"===b.target;c.href=b.href;c.new_tab||a.preventDefault()};Qa.prototype.after_track_handler=function(a,b){b.new_tab||setTimeout(function(){P.location=b.href},0)};var kb=function(){this.override_event="submit"};g.inherit(kb,va);kb.prototype.event_handler=function(a,b,c){c.element=b;a.preventDefault()};kb.prototype.after_track_handler=function(a,b){setTimeout(function(){b.element.submit()},
0)};var L=function(a){this.props={};this.campaign_params_saved=!1;this.name=a.persistence_name?"mp_"+a.persistence_name:"mp_"+a.token+"_perfalytics";var b=a.persistence;"cookie"!==b&&"localStorage"!==b&&(y.critical("Unknown persistence type "+b+"; falling back to cookie"),b=a.persistence="cookie");"localStorage"===b&&g.localStorage.is_supported()?this.storage=g.localStorage:this.storage=g.cookie;this.load();this.update_config(a);this.upgrade(a);this.save()};L.prototype.properties=function(){var a=
{};g.each(this.props,function(b,c){g.include(bd,c)||(a[c]=b)});return a};L.prototype._customSuperProperties=function(){var a={},b="initial_utm_source initial_utm_medium initial_utm_campaign initial_utm_content initial_utm_term initial_utm_source utm_medium utm_campaign utm_content utm_term utm_source mp_keyword distinct_id mp_name_tag mp_page mp_referrer mp_browser mp_platform mp_lib".split(" ");g.each(this.properties(),function(c,d){0<d.length&&"$"!==d[0]&&!g.include(b,d)&&(a[d]=c)});return a};L.prototype.load=
function(){if(!this.disabled){var a=this.storage.parse(this.name);a&&(this.props=g.extend({},a))}};L.prototype.upgrade=function(a){var b=a.upgrade;if(b){var c="mp_super_properties";"string"===typeof b&&(c=b);b=this.storage.parse(c);this.storage.remove(c);this.storage.remove(c,!0);b&&(this.props=g.extend(this.props,b.all,b.events))}!a.cookie_name&&"freshpaint"!==a.name&&(c="mp_"+a.token+"_"+a.name,b=this.storage.parse(c))&&(this.storage.remove(c),this.storage.remove(c,!0),this.register_once(b));this.storage===
g.localStorage&&(b=g.cookie.parse(this.name),g.cookie.remove(this.name),g.cookie.remove(this.name,!0),b&&this.register_once(b))};L.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,g.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure))};L.prototype.remove=function(){this.storage.remove(this.name,!1);this.storage.remove(this.name,!0)};L.prototype.clear=function(){this.remove();this.props={}};L.prototype.register_once=function(a,
b,c){return g.isObject(a)?("undefined"===typeof b&&(b="None"),this.expire_days="undefined"===typeof c?this.default_expiry:c,this.load(),g.each(a,function(d,e){this.props.hasOwnProperty(e)&&this.props[e]!==b||(this.props[e]=d)},this),this.save(),!0):!1};L.prototype.register=function(a,b){return g.isObject(a)?(this.expire_days="undefined"===typeof b?this.default_expiry:b,this.load(),g.extend(this.props,a),this.save(),!0):!1};L.prototype.unregister=function(a){this.load();a in this.props&&(delete this.props[a],
this.save())};L.prototype._expire_notification_campaigns=g.safewrap(function(){var a=this.props.__cmpns,b=za?6E4:36E5;if(a){for(var c in a)1*new Date-a[c]>b&&delete a[c];g.isEmptyObject(a)&&delete this.props.__cmpns}});L.prototype._maybeStartNewSession=function(a){var b=g.timestamp(),c={};c.__last_event_time=b;var d=this.props.__last_event_time;if(!d||d<b-1E3*a)c.$session_id=g.UUID(),c.__first_pageview_in_session_has_occurred=!1,c.__session_count=(this.props.__session_count||0)+1,this.unregister("__last_pageview_time");
this.register(c);return!!c.$session_id};L.prototype.incrementDebugCounter=function(a){this.load();var b=this.props;b||(b={});b.$debug_client_info||(b.$debug_client_info={});b.$debug_client_info.ctr||(b.$debug_client_info.ctr={});b.$debug_client_info.ctr[a]||(b.$debug_client_info.ctr[a]=0);b.$debug_client_info.ctr[a]+=1;this.register(b)};L.prototype.update_campaign_params=function(){if(!this.props.__initial_utm_props_set){var a={__initial_utm_props_set:!0};g.each(g.info.campaignParams(),function(b,
c){a["initial_"+c]=b});this.register_once(a)}g.each(g.info.campaign_keywords,function(b){this.unregister(b)},this);this.register(g.info.campaignParams());this.register(g.info.advertisingParams())};L.prototype.update_search_keyword=function(a){this.register(g.info.searchInfo(a))};L.prototype.update_referrer_info=function(a){this.register_once({$initial_referrer:a||"$direct",$initial_referring_domain:g.info.referringDomain(a)||"$direct"},"")};L.prototype.get_referrer_info=function(){return g.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,
$initial_referring_domain:this.props.$initial_referring_domain})};L.prototype.safe_merge=function(a){g.each(this.props,function(b,c){c in a||(a[c]=b)});return a};L.prototype.update_config=function(a){this.default_expiry=this.expire_days=a.cookie_expiration;this.set_disabled(a.disable_persistence);this.set_cross_subdomain(a.cross_subdomain_cookie);this.set_secure(a.secure_cookie)};L.prototype.set_disabled=function(a){(this.disabled=a)?this.remove():this.save()};L.prototype.set_cross_subdomain=function(a){a!==
this.cross_subdomain&&(this.load(),this.cross_subdomain=a,this.remove(),this.save())};L.prototype.get_cross_subdomain=function(){return this.cross_subdomain};L.prototype.set_secure=function(a){a!==this.secure&&(this.load(),this.secure=a?!0:!1,this.remove(),this.save())};L.prototype._get_queue_key=function(a){if("$set"===a)return"__mps";if("$set_once"===a)return"__mpso";if("$unset"===a)return"__mpus";if("$add"===a)return"__mpa";if("$append"===a)return"__mpap";if("$remove"===a)return"__mpr";if("$union"===
a)return"__mpu";y.error("Invalid queue:",a)};L.prototype._get_queue=function(a){return this.props[this._get_queue_key(a)]};L.prototype._get_or_create_queue=function(a,b){a=this._get_queue_key(a);b=g.isUndefined(b)?{}:b;return this.props[a]||(this.props[a]=b)};L.prototype.set_event_timer=function(a,b){this.load();var c=this.props.__timers||{};c[a]=b;this.props.__timers=c;this.save()};L.prototype.remove_event_timer=function(a){this.load();var b=(this.props.__timers||{})[a];g.isUndefined(b)||(delete this.props.__timers[a],
this.save());return b};var l=function(){},lb=function(a,b,c,d,e,f,h,k,m,r,v,q,A,G,B){var J=Ja(c)?X:X[c];if(J&&0===Fb)var x=J;else{if(J&&!g.isArray(J)){y.error("You have already initialized "+c);return}x=new l}Ja(c)&&(P.freshpaint=P.perfalytics=x);x._cached_groups={};x._user_decide_check_complete=!1;x._events_tracked_before_user_decide_check_complete=[];x._eventDefs=d;x._allowList=f;x._transformer=h;x._configVersion=k;x._elementAttributesWhitelist=m;x._codeEvalConfig=r;x._allowRetry=v;x._trackRequestType=
q;x._enabledEnhancedEvents=A;x._enableImpressionPixelSync=G;x._consent_management_configs=B;x._pageviewProperties={};x._networkCaptureInitialized=!1;x._consent_management_initialized=!1;x._consent_elections={};x._queued_event_counter=0;x.async_await_supported=g.isAsyncAwaitSupported();y.log("Async,Await support: "+x.async_await_supported);x.__SV=J.__SV;x._init(a,b,c);x._destInfo={};g.each(e,function(Q){x._destInfo[Q.name]=Q});za=P.__FP_FORCE_DEBUG__||za||x.get_config("debug");if(Fa=P.__FP_FORCE_TEST_MODE__||
Fa||x.get_config("test_mode"))P.__FP_TEST_MODE_LOGGER__=ib;(a=g.isFunction(P.FPCookieBackedEventQueue))||g.isUndefined(J)||!g.isArray(J)||x._execute_array(J);if(a){a=new P.FPCookieBackedEventQueue;J=a.getEvents();a.deleteCookie();a=[];for(b=0;b<J.length;b++)e=J[b],c=e.e,d=e.a,e=e.m,"page"===c&&e.l!==P.location.href||a.push([c].concat(d));x._execute_array(a)}x.__autotrack_enabled=x.get_config("autotrack");x.get_config("autotrack")&&(pa.enabledForProject(x.get_config("token"),100,100)?pa.isBrowserSupported()?
pa.init(x):(x.__autotrack_enabled=!1,y.log("Disabling Automatic Event Collection because this browser is not supported")):(x.__autotrack_enabled=!1,y.log("Not in active bucket: disabling Automatic Event Collection.")));return x};l.prototype._resetEventQueueCounter=function(){this._queued_event_counter=0};l.prototype.init=function(a,b,c){if(g.isUndefined(c))y.error("You must name your new library: init(token, config, name)");else if(Ja(c))y.error("You must initialize the main freshpaint object right after you include the Freshpaint js snippet");
else return a=lb(a,b,c,[],[],[],ka.nil,0),X[c]=a,a._loaded(),a};l.prototype._init=function(a,b,c){var d=this;this.__loaded=!0;this.config={};this._triggered_notifs=[];this.network_logs=[];this.set_config(g.extend({},hc,b,{name:c,token:a,callback_fn:(Ja(c)?c:"freshpaint."+c)+"._jsc"}));Mb();this._jsc=function(){};this.__dom_loaded_queue=[];this.__request_queue=[];this.__disabled_events=[];this._flags={disable_all_events:!1,identify_called:!1};this.persistence=this.cookie=new L(this.config);this.event_queue=
new L({persistence:"localStorage",persistence_name:"eventQueue"});this._gdpr_init();this._consent_management_init();this._generic_call_tracking_init();a=g.UUID();this.get_distinct_id()||this.register_once({distinct_id:a,$device_id:a},"");this.get_auiddc()||this.register_once({$auiddc:this._generate_auiddc()},"");this.destination_send_queues={fp:new aa("send_to_fp",{minRetryDelay:1E3,maxRetryDelay:3E4,backoffFactor:2,backoffJitter:0,maxItems:100,maxAttempts:10},function(e,f){d._process_queued_request(e,
function(h,k){if(h)return f(h);f(null,k)})})};this.destination_send_queues.fp.start()};l.prototype._loaded=function(){this.get_config("loaded")(this)};l.prototype._dom_loaded=function(){g.each(this.__dom_loaded_queue,function(a){this._track_dom.apply(this,a)},this);this.has_opted_out_tracking()||g.each(this.__request_queue,function(a){this._send_request.apply(this,a)},this);delete this.__dom_loaded_queue;delete this.__request_queue};l.prototype._track_dom=function(a,b){if(this.get_config("img"))return y.error("You can't use DOM tracking functions with img = true."),
!1;if(!ic)return this.__dom_loaded_queue.push([a,b]),!1;a=(new a).init(this);return a.track.apply(a,b)};l.prototype._prepare_callback=function(a,b){if(g.isUndefined(a))return null;if(jb)return function(f){a(f,b)};var c=this._jsc,d=""+Math.floor(1E8*Math.random()),e=this.get_config("callback_fn")+"["+d+"]";c[d]=function(f){delete c[d];a(f,b)};return e};l.prototype._send_request=l.prototype._enqueue_request=function(a,b,c,d){d=d||"GET";this._lastRequestTimestamp=(new Date).getTime();this._allowRetry?
this.destination_send_queues.fp.addItem({url:a,data:b,callback:c,http_request_type:d}):this._send_request_from_url_data(a,b,c,d)};l.prototype._process_queued_request=function(a,b){var c=a.callback;this._send_request_from_url_data(a.url,a.data,function(d){d instanceof Error?b(d):(c&&c(d),b())},a.http_request_type||"GET")};l.prototype._send_request_from_url_data=function(a,b,c,d){d=d||"GET";if(gc)this.__request_queue.push(arguments);else{c||(c=function(){});var e=this.get_config("verbose");b.verbose&&
(e=!0);this.get_config("test")&&(b.test=1);e&&(b.verbose=1);this.get_config("img")&&(b.img=1);if(!jb)if(c)b.callback=c;else if(e||this.get_config("test"))b.callback="(function(){})";"GET"===d&&(b={data:b.data});b.ip=this.get_config("ip")?1:0;b._=(new Date).getTime().toString();if("img"in b){var f=K.createElement("img");a+="?"+g.HTTPBuildQuery(b);f.src=a;K.body.appendChild(f);c()}else if(jb)try{var h=new XMLHttpRequest;"GET"===d?(a+="?"+g.HTTPBuildQuery(b),h.open("GET",a,!0)):h.open("POST",a,!0);f=
this.get_config("xhr_headers");if("POST"===d){f["Content-Type"]="application/json";try{b=JSON.parse(b.json_data)}catch(m){y.error(m)}}g.each(f,function(m,r){h.setRequestHeader(r,m)});h.onreadystatechange=function(){if(4===h.readyState)if(200===h.status)if(e){try{var m=g.JSONDecode(h.responseText)}catch(r){return y.error(r),c(r)}c(m)}else c(Number(h.responseText));else m=Error("Bad HTTP status: "+h.status+" "+h.statusText),y.error(m),c(m)};"GET"===d?h.send(null):h.send(JSON.stringify(b))}catch(m){y.error(m),
c(m)}else{f=K.createElement("script");f.type="text/javascript";f.async=!0;f.defer=!0;a+="?"+g.HTTPBuildQuery(b);f.src=a;var k=K.getElementsByTagName("script")[0];k.parentNode.insertBefore(f,k);return c()}}};l.prototype._execute_array=function(a){var b,c=[],d=[],e=[],f=0;g.each(a,function(h){h&&(b=h[0],g.isArray(b)?e.push(h):"function"===typeof h?h.call(this):g.isArray(h)&&"alias"===b?c.push(h):g.isArray(h)&&"page"===b?0===f&&(e.push(h),f++):g.isArray(h)&&-1!==b.indexOf("track")&&"function"===typeof this[b]?
e.push(h):d.push(h))},this);a=function(h,k){g.each(h,function(m){if(g.isArray(m[0])){var r=k;g.each(m,function(v){r=r[v[0]].apply(r,v.slice(1))})}else this[m[0]].apply(this,m.slice(1))},k)};a(c,this);a(d,this);a(e,this)};l.prototype.push=function(a){this._execute_array([a])};l.prototype.disable=function(a){"undefined"===typeof a?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(a)};l.prototype._processEvent=function(a,b,c,d,e,f){this._consent_management_integration_init();
var h=this.get_config("session_timeout");this.persistence._maybeStartNewSession(h)&&(this._clearEventQueue(),this._sendEvent("$web_event",null,{},pa._getDefaultProperties("session")));d.$snippet_version=this.__SV;if("$web_event"===a&&d&&"pageview"===d.$event_type){this.persistence.props.__first_pageview_occurred||(d.$is_first_visit=!0);this.persistence.props.__first_pageview_in_session_has_occurred||(d.$is_first_pageview_in_session=!0);d.$session_counter=this.persistence.props.__session_count;h=(new Date).getTime();
this.persistence.props.__last_pageview_time&&(d.$time_since_last_pageview=h-this.persistence.props.__last_pageview_time);var k={__first_pageview_occurred:!0,__first_pageview_in_session_has_occurred:!0};k.__last_pageview_time=h;this.persistence.register(k)}this._enableImpressionPixelSync&&(!this.persistence.props.__last_pixel_sync||this.persistence.props.__last_pixel_sync<(new Date).getTime()-12096E5)&&(h={},h.__last_pixel_sync=(new Date).getTime(),this.persistence.register(h),this._sync_impression_pixel_ids());
0<=["$scroll","$user_engagement"].indexOf(a)&&!d.$engagement_time_ms&&(d.$engagement_time_ms=Mb().getAndRestartEngagementTimeMS());"undefined"===typeof e&&(e={});"function"!==typeof f&&(f=function(){});this._event_is_disabled(a)?f(0):(h=this.get_config("property_blacklist"),g.isArray(h)?g.each(h,function(m){delete d[m]}):y.error("Invalid value for property_blacklist config: "+h),c=g.extend({},c,this.persistence._customSuperProperties()),this._sendEvent(a,b,c,d,e,f))};var jc=["1cb8ff19-dace-4023-b902-68e4bcd50559"],
cd=["a1a221bf-0dbc-45a3-9c37-29144add364f","49a155fc-418e-46cc-9b07-befdc5737916","6366a7c2-8c56-4308-b2ce-21d4b866b381","80e6e3c1-ea50-48af-b789-461411889c99"];l.prototype._sendEvent=function(a,b,c,d,e,f){"function"!==typeof f&&(f=function(){});this.persistence.incrementDebugCounter("_sendEvent");c=g.extend({},this._pageviewProperties,c);d=g.extend({},d,{$event_name:a});d.token=this.get_config("token");var h=this.persistence.remove_event_timer(a);g.isUndefined(h)||(h=(new Date).getTime()-h,h=parseFloat((h/
1E3).toFixed(3)),d=g.extend({},{$duration:h},d));this.persistence.update_search_keyword(K.referrer);this.get_config("store_google")&&this.persistence.update_campaign_params();this.get_config("save_referrer")&&this.persistence.update_referrer_info(K.referrer);d=g.extend({},g.info.properties(),this.persistence.properties(),d,{$options:e});h=this._find_matching_event_defs(a,b,d);var k=this._get_snapshot_properties(h,b,d);this._send_event_to_destinations(a,h,c,k,e,d);h=g.extend({},d,c,{$eventDefProps:k,
$consent:this.get_consent()});k={event:a,properties:h};if(g.includes(jc,k.properties.token)){k.properties.facebook_pixel_event_id=c.insert_id||d.$insert_id;y.log("[perfalytics-js] Added facebook_pixel_event_id",k);if(h=Gc())k.properties.fbp=h,y.log("[perfalytics-js] Added facebook_pixel fbp",k);"Purchase - Test"===a&&this.persistence.incrementDebugCounter("30m_purchase_test")}g.includes(cd,k.properties.token)&&(k.properties.facebook_pixel_event_id=c.insert_id||d.$insert_id,y.log("[perfalytics-js] Added facebook_pixel_event_id",
k));h=this._trackRequestType||"GET";k=g.truncate(k,255);var m=g.JSONEncode(k),r=g.base64Encode(m);y.log("[perfalytics-js] Freshpaint request:",k);this._enqueue_request(this.get_config("api_host")+"/track",{data:r,json_data:m},this._prepare_callback(f,k),h);this._consent_management_configured()&&!this._any_destinations_consented_to()&&this.async_await_supported&&(50>this._queued_event_counter?(y.log("No consent given - enqueuing event number: "+this._queued_event_counter),this._enqueueEvent(a,b,c,
d,e)):this.persistence.incrementDebugCounter("consent_queue_full"));return k};l.prototype._enqueueEvent=function(a,b,c,d,e){var f=!0===d.$is_first_pageview_in_session?"fp-event-queue-session-start":"fp-event-queue-"+g.UUID();this.event_queue.storage.set(f,g.JSONEncode({eventName:a,domEvent:b,customProps:c,autotrackProps:d,options:e}));this._queued_event_counter++;this.persistence.incrementDebugCounter("consent_queued")};l.prototype._collectEvents=function(){for(var a=[],b=0;b<this.event_queue.storage.length();b++){var c=
this.event_queue.storage.key(b);g.includes(c,"fp-event-queue-")&&a.push(c)}return a};l.prototype._deleteEvents=function(a){var b=this.event_queue.storage;g.each(a,function(c){b.remove(c)})};l.prototype._flushEventQueue=function(){var a=this,b,c,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:return e.yield(a._collectEvents(),2);case 2:b=e.yieldResult;if(0===b.length)return e.return();c=a;d=function(f){var h;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){if(1==
k.nextAddress)return h=c.event_queue.storage.parse(f),k.yield(c._sendEvent(h.eventName,h.domEvent,h.customProps,h.autotrackProps,h.options),2);c.event_queue.storage.remove(f);k.jumpToEnd()})};if(!g.include(b,"fp-event-queue-session-start")){e.jumpTo(3);break}return e.yield(d("fp-event-queue-session-start"),4);case 4:return e.yield(new Promise(function(f){return setTimeout(f,2E3)}),3);case 3:g.each(b,function(f){return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){return h.yield(d(f),0)})}),
a._resetEventQueueCounter(),e.jumpToEnd()}})};l.prototype._clearEventQueue=function(){var a=this._collectEvents();0!==a.length&&(y.log("Clearing event queue!"),this._deleteEvents(a),this._resetEventQueueCounter())};l.prototype._find_matching_event_defs=function(a,b,c){a=[];if(this._eventDefs)for(var d=0;d<this._eventDefs.length;d++)try{var e=this._eventDefs[d];e.matches(b,c)&&a.push(e)}catch(f){}return a};l.prototype._get_snapshot_properties=function(a,b,c){b=void 0===b?{}:b;c=void 0===c?{}:c;for(var d=
{},e=0;e<a.length;e++){for(var f=a[e],h={},k=0;k<f.snapshots.length;k++){var m=f.snapshots[k];if("js_code"===m.type)try{var r=(new Function("event",m.value))(b);"SUPPRESS_EVENT"===r&&(h.$is_suppressed=r);h[m.name]=r}catch(v){}else h[m.name]="network"===m.type?g.jqLookup(c,m.value):pa._extractCustomPropertyValue(m)}d[f.id]=h}return d};l.prototype._isManuallyTrackedEvent=function(a){return 0===a.length||"$"!==a[0]};var mb=function(a,b){this.name=a;this.props=b};l.prototype._transformEventForDest=function(a,
b,c){var d=a.name;this._destInfo&&this._destInfo[c]&&this._destInfo[c].settings&&this._destInfo[c].mapping&&"Google AdWords New"!==c&&g.each(this._destInfo[c].mapping,function(e){var f=e.fpEvent;e=e.destEvent;f===a.id&&(y.log("Renaming event ",f," from ",a.name," to ",e," because it matches the standard event for ",c),d=e)});return new mb(d,b)};l.prototype.addEventDefs=function(a){this._eventDefs=Dc(this._eventDefs,this._destInfo,a)};l.prototype.addAllowListEntry=function(a){this._allowList.push(new Ia(a))};
l.prototype._applyTransformer=function(a,b,c,d,e,f){c=this._transformer.transform(a,b,c,d,!!e,f);a=c[0];c=c[1];"Mixpanel"===b&&(c=g.extend({},c,{mp_lib:"Freshpaint: web",$source:"Freshpaint: web"}));return new mb(a,c)};l.prototype._getDestinationConfigFromName=function(a){var b=null;g.each(this._destInfo,function(c,d){d===a&&(b=c)});return b};l.prototype._calculateDestinations=function(a,b,c){var d={};a=g.extend({integrations:{}},a);var e=this.get_consent();g.each(this._destInfo,function(f,h){!1===
e[h]||!1===e.All&&!0!==e[h]?(y.log("Blocking",h,"due to revoked consent"),d[h]=!1):c?a.integrations[h]?d[h]=a.integrations[h]:!1!==a.integrations.All&&!1!==a.integrations[h]&&(d[h]=!0):b[h]&&(d[h]=a.integrations[h]||b[h]||!0)});return d};l.prototype._send_event_to_destinations=function(a,b,c,d,e,f){var h=this,k=g.extend({integrations:{}},e);0===b.length&&this._isManuallyTrackedEvent(a)&&(b=[{id:null,name:a,segmentCompatible:!0}]);for(a=0;a<b.length;a++)try{var m=b[a],r=d[m.id]||{};if(!("$is_suppressed"in
r)){r=g.extend({},c,r);this.triggerCodeEval("onTrack",{eventName:m.name,eventProperties:r,eventOptions:e,builtinProperties:f});var v=this._calculateDestinations(k,m.enabledDestinations,m.segmentCompatible);y.log("iterating over destinationsToSendTo",v);g.each(v,function(q,A){try{var G=k[A]||q;if(G){var B=h._makeIntegrationSettingsForSingleDestination(k,A,G),J=h._getDestinationConfigFromName(A);if(3<=h._configVersion)if(J.useTransformer){y.log("Transforming event for ",J.name,m.name,r);var x=h._applyTransformer(m,
J.name,r,"track",J.skipTransformingEventNames,f);y.log("Transformed into",x)}else x=new mb(m.name,r);else x=h._transformEventForDest(m,r,A);f&&g.includes(jc,f.token)&&f.$insert_id&&"Facebook Pixel"===A&&(y.log("[perfalytics-js] Modified event, before sending to integrations",x,A),x.props.facebook_pixel_event_id=c.insert_id||f.$insert_id);h._callIntegrations("track",x.name,x.props,B)}}catch(Q){y.error("Error sending event to destination",A,Q)}})}}catch(q){}};l.prototype._makeIntegrationSettingsForSingleDestination=
function(a,b,c){var d={All:!1};d[b]=c||!0;return g.extend({},a,{integrations:d})};l.prototype._callIntegrations=function(){var a=P.freshpaintIntegrations;a.setAnonymousId(this.get_property("$device_id"));a.user().traits({});a.user().save();var b=arguments[0],c=Array.prototype.slice.call(arguments,1);return a[b].apply(a,c)};l.prototype.triggerCodeEval=function(a,b){var c=this.get_config("tag_manager");try{if(c&&this._codeEvalConfig){var d=this._codeEvalConfig[a];if(d){a=[];c=[];if("object"===typeof b)for(var e in b)b.hasOwnProperty(e)&&
(a.push(e),c.push(b[e]));var f="(function ("+a.join(", ")+") {"+d+"})";y.log("eval code snippet: "+f);var h=P.eval.call(P,f);h.apply(h,c)}}}catch(k){y.log("Code Eval:",k)}};l.prototype.track=function(a){return Lb(a,function(b){return this.get_config(b)})}(function(a,b,c,d){"function"!==typeof d&&(d=function(){});if(g.isUndefined(a))y.error("No event name provided to freshpaint.track");else return this._processEvent(a,null,b,{},c,d)});l.prototype._create_map_key=function(a,b){return a+"_"+JSON.stringify(b)};
l.prototype._remove_group_from_cache=function(a,b){delete this._cached_groups[this._create_map_key(a,b)]};l.prototype.get_group=function(a,b){var c=this._create_map_key(a,b),d=this._cached_groups[c];if(void 0===d||d._group_key!==a||d._group_id!==b)d=new W,d._init(this,a,b),this._cached_groups[c]=d;return d};l.prototype.track_pageview=function(a){g.isUndefined(a)&&(a=K.location.href);this.track("mp_page_view",g.info.pageviewInfo(a))};l.prototype.track_links=function(){return this._track_dom.call(this,
Qa,arguments)};l.prototype.track_forms=function(){return this._track_dom.call(this,kb,arguments)};l.prototype.time_event=function(a){g.isUndefined(a)?y.error("No event name provided to freshpaint.time_event"):this._event_is_disabled(a)||this.persistence.set_event_timer(a,(new Date).getTime())};l.prototype.register=function(a,b){this.persistence.register(a,b)};l.prototype.addPageviewProperties=function(a){this._pageviewProperties=g.extend({},this._pageviewProperties,a)};l.prototype.register_once=function(a,
b,c){this.persistence.register_once(a,b,c)};l.prototype.unregister=function(a){this.persistence.unregister(a)};l.prototype._register_single=function(a,b){var c={};c[a]=b;this.register(c)};l.prototype.identify=function(a,b,c,d){var e=this;this.triggerCodeEval("onIdentify",{userID:a,userProps:b});g.isObject(a)&&(b=a,a=void 0);b="undefined"===typeof b?{}:b;var f=this.get_distinct_id();if(a===f||"undefined"===typeof a||!this._flags.identify_called){var h=this.get_property("__user_props")||{};b=g.extend({},
h,b)}h={};h.__user_props=b;this.register(h);c=g.extend({},c,{anonymousId:this.get_property("$device_id")});"undefined"===typeof a?this.track("$identify",{$anon_distinct_id:f,$user_props:b},c,d):(this.register({$user_id:a}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:f},""),a!==f&&a!==this.get_property("__alias")&&(this.unregister("__alias"),this.register({distinct_id:a})),this._flags.identify_called=!0,this.track("$identify",{distinct_id:a,$anon_distinct_id:f,
$user_props:b},c,d),this._enableImpressionPixelSync&&a!==f&&this._sync_impression_pixel_ids());d=this._calculateDestinations(c,{},!0);y.log("iterating over destinationsToSendTo",d);g.each(d,function(k,m){if(k=c[m]||k){var r=e._makeIntegrationSettingsForSingleDestination(c,m,k);m=e._getDestinationConfigFromName(m);if(m.useTransformer){y.log("Transforming event for ",m.name,"$identify",b);var v=e._applyTransformer(null,m.name,b,"identify",!0,g.info.properties());v.name="$identify";y.log("Transformed into",
v)}else v=new mb("$identify",b)}"undefined"===typeof a?e._flags.identify_called?e._callIntegrations("identify",e.get_distinct_id(),v.props,r):e._callIntegrations("identify",v.props,r):e._callIntegrations("identify",a,v.props,r)})};l.prototype.alias=function(a,b,c,d){g.isObject(b)&&(c=b,b=this.get_distinct_id());this.track("$alias",{$alias_id:a,$previous_id:b},c);this._callIntegrations("alias",a,b,c,d)};l.prototype.page=function(a,b,c,d,e){"function"===typeof d&&(e=d,d=null);"function"===typeof c&&
(e=c,d=c=null);"function"===typeof b&&(e=b,d=c=b=null);g.isObject(a)&&(d=b,c=a,b=a=null);g.isObject(b)&&(d=c,c=b,b=null);"string"===typeof a&&"string"!==typeof b&&(b=a,a=null);this.track("$page",{$category:a,$name:b,$page_props:c},d);this._callIntegrations("page",a,b,c,d,e)};l.prototype.group=function(a,b,c,d){if(0===arguments.length)return this.group_object();g.isObject(a)&&(b=a,a=void 0);b="undefined"===typeof b?{}:b;var e=this.get_property("__group_id");if(a===e||"undefined"===typeof a||"undefined"===
typeof e){var f=this.get_property("__group_props")||{};b=g.extend({},f,b)}f={};f.__group_props=b;this.register(f);"undefined"===typeof a?(this.track("$group",{$group_id:e,$group_props:b},c),"undefined"!==typeof e?this._callIntegrations("group",e,b,c,d):this._callIntegrations("group",b,c,d)):(f={},f.__group_id=a,this.register(f),this.track("$group",{$group_id:a,$prev_group_id:e,$group_props:b},c),this._callIntegrations("group",a,b,c,d))};l.prototype.ready=function(a){this._callIntegrations("ready",
a)};l.prototype.reset=function(){this.persistence.clear();this._flags.identify_called=!1;var a=g.UUID();this.register_once({distinct_id:a,$device_id:a},"");this._callIntegrations("reset")};l.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};l.prototype.get_auiddc=function(){return this.get_property("$auiddc")};l.prototype.alias=function(a,b){var c=this;g.isUndefined(b)&&(b=this.get_distinct_id());if(a!==b)return this._register_single("__alias",a),this.track("$create_alias",
{alias:a,distinct_id:b},function(){c.identify(a)});y.error("alias matches current distinct_id - skipping api call.");this.identify(a);return-1};l.prototype.user=function(){var a=this;return{id:function(){return a.get_distinct_id()},traits:function(b){if(0===arguments.length)return a.get_property("__user_props");var c={};c.__user_props=b;a.register(c);a._callIntegrations("user").traits(b);return null},anonymousId:function(){return a.get_property("$device_id")}}};l.prototype.group_object=function(){var a=
this;return{id:function(){return a.get_property("__group_id")},traits:function(b){if(0===arguments.length)return a.get_property("__group_props");var c={};c.__group_props=b;a.register(c);a._callIntegrations("group").traits(b);return null}}};l.prototype.name_tag=function(a){this._register_single("mp_name_tag",a)};l.prototype.set_config=function(a){g.isObject(a)&&(g.extend(this.config,a),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||
(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),za=za||this.get_config("debug"))};l.prototype.get_config=function(a){return this.config[a]};l.prototype.get_property=function(a){return this.persistence.props[a]};l.prototype.toString=function(){var a=this.get_config("name");Ja(a)||(a="freshpaint."+a);return a};l.prototype._event_is_disabled=function(a){return g.isBlockedUA(ca)||this._flags.disable_all_events||g.include(this.__disabled_events,
a)};l.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_tracking_persistence_type")&&g.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1}));this.has_opted_out_tracking()?
this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_tracking()||!this.get_config("opt_out_tracking_by_default")&&!g.cookie.get("mp_optout")||(g.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};l.prototype._consent_management_config=function(){var a=this._consent_management_configs||{},b=this.get_config("consent_management")||{};return g.extend(a,b)};l.prototype._consent_management_configured=function(){var a=
this._consent_management_config();return!(!a||g.isEmptyObject(a))};l.prototype._any_destinations_consented_to=function(){var a=this.get_consent();return!a||g.isEmptyObject(a)?!1:Object.values(a).some(Boolean)};l.prototype._consent_management_init=function(){if(this._consent_management_configured()&&!this._consent_management_initialized){var a=this._consent_management_config();this.set_consent(a.initial_consent?a.initial_consent:"opt-out"===a.consent_model?{All:!0}:{All:!1});this._consent_management_integration_init()}};
l.prototype._consent_management_integration_init=function(){if(this._consent_management_configured()&&!this._consent_management_initialized){var a=this._consent_management_config();a.osano&&P.Osano?(wc(this,a.osano),this._consent_management_initialized=!0):a.onetrust&&(yc(this,a.onetrust),this._consent_management_initialized=!0)}};l.prototype._add_network_event=function(a){this.network_logs.push(a)};l.prototype.get_network_log=function(){return this.network_logs};l.prototype.create_network_filter=
function(a){return new Ia(a)};l.prototype._initializeNetworkCapture=function(a){a&&(this._allowList=a.map(function(b){return new Ia(b)}));pa._addNetworkEventHandlers(this)};l.prototype._gdpr_update_persistence=function(a){if(a&&a.clear_persistence)a=!0;else if(a&&a.enable_persistence)a=!1;else return;this.get_config("disable_persistence")||this.persistence.disabled===a||this.persistence.set_disabled(a)};l.prototype._gdpr_call_func=function(a,b){b=g.extend({track:g.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),
cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),secure_cookie:this.get_config("secure_cookie")},b);g.localStorage.is_supported()||(b.persistence_type="cookie");return a(this.get_config("token"),{track:b.track,trackEventName:b.track_event_name,trackProperties:b.track_properties,persistenceType:b.persistence_type,persistencePrefix:b.cookie_prefix,cookieExpiration:b.cookie_expiration,
crossSubdomainCookie:b.cross_subdomain_cookie,secureCookie:b.secure_cookie})};l.prototype.opt_in_tracking=function(a){a=g.extend({enable_persistence:!0},a);this._gdpr_call_func(sc,a);this._gdpr_update_persistence(a)};l.prototype._generate_auiddc=function(){var a=Math.round(2147483647*Math.random()),b=Math.round((new Date(Date.now())).getTime()/1E3);return[a,b].join(".")};l.prototype.opt_out_tracking=function(a){a=g.extend({clear_persistence:!0,delete_user:!0},a);this._gdpr_call_func(tc,a);this._gdpr_update_persistence(a)};
l.prototype.has_opted_in_tracking=function(a){return this._gdpr_call_func(uc,a)};l.prototype.has_opted_out_tracking=function(a){return this._gdpr_call_func(Kb,a)};l.prototype.clear_opt_in_out_tracking=function(a){a=g.extend({enable_persistence:!0},a);this._gdpr_call_func(vc,a);this._gdpr_update_persistence(a)};l.prototype.set_consent=function(a){this._consent_elections=a;this._any_destinations_consented_to()&&this.async_await_supported&&this._flushEventQueue()};l.prototype.get_consent=function(){return this._consent_elections};
l.prototype.registerCallConversion=function(a,b,c){var d=this;c||(c=function(){});this.get_config("store_google")&&this.persistence.update_campaign_params();var e=this.persistence.props.$gclid,f=a.match(/^AW-(\d+)\/(.*)$/);if(!f)throw Error("Unable to parse conversion: "+a);var h=b.replace(/\D/g,"");f="https://www.freshpaint-proxy.com/pagead/conversion/"+f[1]+"/wcm?__host=www.googleadservices.com&cc=ZZ&dn="+h+"&cl="+f[2]+"&dma=0";e&&(f=f+"&gclid="+e+"&gclaw="+e);var k=new XMLHttpRequest;k.open("GET",
f,!0);k.onreadystatechange=function(){if(4===k.readyState&&200===k.status){var m=JSON.parse(k.responseText);m.formattedPhoneNumber&&m.phoneNumber&&Hc(h,b,m.phoneNumber,m.formattedPhoneNumber);m.refreshPeriod&&!d.get_config("test")&&setTimeout(function(){d.registerCallConversion(a,m.formattedPhoneNumber||b)},m.refreshPeriod);c()}};k.send()};l.prototype._populatePhoneNumberToNodeMap=function(a,b){Sb(a,function(c){var d;3===c.nodeType?d=c.nodeValue:1===c.nodeType&&(d=c.getAttribute("href"));if(d){a:switch(d=
d.replace(/\D/g,""),d.length){case 10:d="+1"+d;break a;case 11:d="+"+d;break a;default:d=""}if(d){var e=b.get(d);e=void 0===e?[]:e;e.push(c);b.set(d,e)}}})};l.prototype._replacePhoneNumberNode=function(a,b){if(a=a.get(b.customerNumber)){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,3===c.nodeType){if(c.nodeValue){var d=c.nodeValue,e=d.replace,f=b.customerNumber;var h=f.slice(2,5);var k=f.slice(5,8);f=f.slice(8,12);h=new RegExp("\\(?"+h+"\\)?[^0-9]?"+k+"[^0-9]?"+f);var m=
b.proxyNumber;k=m.slice(2,5);f=m.slice(5,8);m=m.slice(8,12);if(d=e.call(d,h,"("+k+") "+f+"-"+m))c.nodeValue=d}}else 1===c.nodeType&&c.getAttribute("href")&&c.setAttribute("href","tel:"+b.proxyNumber)}};l.prototype._generic_call_tracking_init=function(){var a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){P.addEventListener("load",function(){var c,d,e,f,h,k;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){if(1==m.nextAddress){a:{var r=P.location.search;if(r.includes("utm_"))r=
!0;else{for(var v=$jscomp.makeIterator(g.info.ad_ids),q=v.next();!q.done;q=v.next())if(r.includes(q.value)){r=!0;break a}r=!1}}if(!r)return m.return();c=new Map;a._populatePhoneNumberToNodeMap(K.body,c);m.setCatchFinallyBlocks(2);return m.yield(a._getPhoneNumberSwaps(c),4)}if(2!=m.nextAddress){d=m.yieldResult;e=$jscomp.makeIterator(d);for(f=e.next();!f.done;f=e.next())h=f.value,a._replacePhoneNumberNode(c,h);return m.leaveTryBlock(0)}k=m.enterCatchBlock();y.error("Error:",k);m.jumpToEnd()})});b.jumpToEnd()})};
l.prototype._sync_impression_pixel_ids=function(){var a=this,b,c,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){try{b=a.get_property("$device_id"),c=a.get_config("impression_pixel_host")+"/beacon?cke=1&env_id="+a.get_config("token")+"&fp_device_id="+b,(d=a.get_property("$user_id"))&&(c+="&fp_user_id="+d),navigator.sendBeacon(c)}catch(f){y.error("Sync Impression Pixel Error:",f)}e.jumpToEnd()})};l.prototype._getPhoneNumberSwaps=function(a){var b=this,c,d,e,f,h,k,m,r,v,q,A,G;return $jscomp.asyncExecutePromiseGeneratorProgram(function(B){switch(B.nextAddress){case 1:c=
Array.from(a.keys());d=[];e=[];f=$jscomp.makeIterator(c);for(h=f.next();!h.done;h=f.next()){k=h.value;a:{var J=void 0;var x=localStorage.getItem("fp-gct:"+k);if(x){try{J=JSON.parse(x)}catch(Q){y.error(Q);J=null;break a}J=J.expiration<Date.now()?null:J.swap}else J=null}(m=J)?d.push(m):e.push(k)}if(0===e.length)return B.return(d);B.setCatchFinallyBlocks(2);return B.yield(Ic(e,b.persistence.props,b.config.token),4);case 4:r=B.yieldResult;B.leaveTryBlock(3);break;case 2:v=B.enterCatchBlock(),y.error("Error:",
v);case 3:q=$jscomp.makeIterator(r);for(A=q.next();!A.done;A=q.next()){G=A.value;J=G.customerNumber;x=Date.now()+9E5;x={swap:G,expiration:x};try{localStorage.setItem("fp-gct:"+J,JSON.stringify(x))}catch(Q){y.error(Q)}}return B.return(d.concat(r))}})};l.prototype.init=l.prototype.init;l.prototype.reset=l.prototype.reset;l.prototype.ready=l.prototype.ready;l.prototype.disable=l.prototype.disable;l.prototype.time_event=l.prototype.time_event;l.prototype.track=l.prototype.track;l.prototype.track_links=
l.prototype.track_links;l.prototype.track_forms=l.prototype.track_forms;l.prototype.track_pageview=l.prototype.track_pageview;l.prototype.triggerCodeEval=l.prototype.triggerCodeEval;l.prototype.register=l.prototype.register;l.prototype.register_once=l.prototype.register_once;l.prototype.unregister=l.prototype.unregister;l.prototype.addEventProperties=l.prototype.register;l.prototype.addInitialEventProperties=l.prototype.register_once;l.prototype.removeEventProperty=l.prototype.unregister;l.prototype.addPageviewProperties=
l.prototype.addPageviewProperties;l.prototype.identify=l.prototype.identify;l.prototype.user=l.prototype.user;l.prototype.group=l.prototype.group;l.prototype.alias=l.prototype.alias;l.prototype.page=l.prototype.page;l.prototype.name_tag=l.prototype.name_tag;l.prototype.set_config=l.prototype.set_config;l.prototype.get_config=l.prototype.get_config;l.prototype.get_property=l.prototype.get_property;l.prototype.get_distinct_id=l.prototype.get_distinct_id;l.prototype.toString=l.prototype.toString;l.prototype._processEvent=
l.prototype._processEvent;l.prototype.opt_out_tracking=l.prototype.opt_out_tracking;l.prototype.opt_in_tracking=l.prototype.opt_in_tracking;l.prototype.has_opted_out_tracking=l.prototype.has_opted_out_tracking;l.prototype.has_opted_in_tracking=l.prototype.has_opted_in_tracking;l.prototype.clear_opt_in_out_tracking=l.prototype.clear_opt_in_out_tracking;l.prototype.set_consent=l.prototype.set_consent;l.prototype.get_consent=l.prototype.get_consent;l.prototype.registerCallConversion=l.prototype.registerCallConversion;
L.prototype.properties=L.prototype.properties;L.prototype.update_search_keyword=L.prototype.update_search_keyword;L.prototype.update_referrer_info=L.prototype.update_referrer_info;L.prototype.get_cross_subdomain=L.prototype.get_cross_subdomain;L.prototype.clear=L.prototype.clear;g.safewrap_class(l,["identify"]);var la={},dd=function(){g.each(la,function(a,b){Ja(b)||(X[b]=a)});X._=g},ed=function(){X.init=function(a,b,c){if(c)return X[c]||(X[c]=la[c]=lb(a,b,c,[],[],[],ka.nil,0),X[c]._loaded()),X[c];
c=X;la.freshpaint||la.perfalytics?(c=la.freshpaint||la.perfalytics,c.__SV=X.__SV):a&&(c=lb(a,b,"freshpaint",[],[],[],ka.nil,0),c._loaded(),la.freshpaint=c,la.perfalytics=c);X=c;1===Fb&&(P.freshpaint=X,P.perfalytics=X);dd()}},fd=function(){function a(){a.done||(ic=a.done=!0,gc=!1,g.each(la,function(d){d._dom_loaded()}))}function b(){try{K.documentElement.doScroll("left")}catch(d){setTimeout(b,1);return}a()}if(K.addEventListener)"complete"===K.readyState?a():K.addEventListener("DOMContentLoaded",a,
!1);else if(K.attachEvent){K.attachEvent("onreadystatechange",a);var c=!1;try{c=null===P.frameElement}catch(d){}K.documentElement.doScroll&&c&&b()}g.register_event(P,"load",a,!0)};(function(){Fb=1;X=P.freshpaint||P.perfalytics;if(g.isUndefined(X))y.critical('"freshpaint" object not initialized. Ensure you are using the latest version of the Freshpaint JS Library along with the snippet we provide.');else if(X.__loaded||X.config&&X.persistence)y.error("Freshpaint library has already been downloaded at least once.");
else{var a=X.__SV||0;if(1.1>a)y.critical("Version mismatch; please ensure you're using the latest version of the Freshpaint code snippet.");else{var b=X._i[0],c=b[0],d=g.extend({},hc,b[1]||{});Ec(d,c,function(e){pa._loadScript(d.app_host+"/static/js/integrations.js",function(){Tb(c,function(){for(var f=e.destInfo,h=e.transformer,k=e.configVersion,m=e.elementAttributesWhitelist,r=e.codeEvalConfig,v=e.allowRetry,q=e.trackRequestType,A=e.allowList,G=e.enabledEnhancedEvents,B=e.enableImpressionPixelSync,
J=e.consentManagementConfigs,x={},Q=0;Q<f.length;Q++){var S=f[Q];x[S.name]=S.settings}P.freshpaintIntegrations.init(x,{user:{cookie:{key:"fpjs_user_id"},localStorage:{key:"fpjs_user_traits"}},group:{cookie:{key:"fpjs_group_id"},localStorage:{key:"fpjs_group_properties"}},integrations:d.integrations});var na=e.eventDefs;g.each(X._i,function(ba){ba&&g.isArray(ba)&&(la[ba[ba.length-1]]=lb.apply(this,ba.concat([na,f,A,h,k,m,r,v,q,G,B,J])))});ed();X.init();1.3>=a&&X.page();g.each(la,function(ba){ba._loaded()});
la.freshpaint=la.freshpaint||la.perfalytics;la.perfalytics=la.freshpaint;fd()})})})}}})()})();
})();
